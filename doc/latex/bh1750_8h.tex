\doxysection{components/peripherals/i2c/esp\+\_\+bh1750/include/bh1750.h File Reference}
\hypertarget{bh1750_8h}{}\label{bh1750_8h}\index{components/peripherals/i2c/esp\_bh1750/include/bh1750.h@{components/peripherals/i2c/esp\_bh1750/include/bh1750.h}}
{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include $<$stdbool.\+h$>$}\newline
{\ttfamily \#include $<$esp\+\_\+err.\+h$>$}\newline
{\ttfamily \#include $<$driver/i2c\+\_\+master.\+h$>$}\newline
{\ttfamily \#include $<$type\+\_\+utils.\+h$>$}\newline
{\ttfamily \#include "{}bh1750\+\_\+version.\+h"{}}\newline
\doxysubsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structbh1750__config__s}{bh1750\+\_\+config\+\_\+s}}
\begin{DoxyCompactList}\small\item\em BH1750 device configuration structure. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structbh1750__context__t}{bh1750\+\_\+context\+\_\+t}}
\begin{DoxyCompactList}\small\item\em BH1750 I2C device handle structure. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define {\bfseries I2\+C\+\_\+\+BH1750\+\_\+\+DEV\+\_\+\+CLK\+\_\+\+SPD}~UINT32\+\_\+C(100000)
\begin{DoxyCompactList}\small\item\em bh1750 I2C default clock frequency (100KHz) \end{DoxyCompactList}\item 
\#define {\bfseries I2\+C\+\_\+\+BH1750\+\_\+\+DEV\+\_\+\+ADDR\+\_\+\+LO}~UINT8\+\_\+C(0x23)
\begin{DoxyCompactList}\small\item\em bh1750 I2C address when ADDR pin floating/low \end{DoxyCompactList}\item 
\#define {\bfseries I2\+C\+\_\+\+BH1750\+\_\+\+DEV\+\_\+\+ADDR\+\_\+\+HI}~UINT8\+\_\+C(0x5C)
\begin{DoxyCompactList}\small\item\em bh1750 I2C address when ADDR pin high \end{DoxyCompactList}\item 
\#define {\bfseries I2\+C\+\_\+\+XFR\+\_\+\+TIMEOUT\+\_\+\+MS}~(500)
\begin{DoxyCompactList}\small\item\em I2C transaction timeout in milliseconds. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__drivers_ga897305b241314fd8783d5dfc0d7fbb13}{I2\+C\+\_\+\+BH1750\+\_\+\+CONFIG\+\_\+\+DEFAULT}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef enum \mbox{\hyperlink{group__drivers_ga66416e4a883bd9a0719917edaeaae8a7}{bh1750\+\_\+measurement\+\_\+modes\+\_\+e}} {\bfseries bh1750\+\_\+measurement\+\_\+modes\+\_\+t}
\begin{DoxyCompactList}\small\item\em BH1750 measurement modes enumerator. \end{DoxyCompactList}\item 
typedef struct \mbox{\hyperlink{structbh1750__config__s}{bh1750\+\_\+config\+\_\+s}} {\bfseries bh1750\+\_\+config\+\_\+t}
\begin{DoxyCompactList}\small\item\em BH1750 device configuration structure. \end{DoxyCompactList}\item 
typedef struct bh1750\+\_\+context\+\_\+t {\bfseries bh1750\+\_\+context\+\_\+t}
\begin{DoxyCompactList}\small\item\em BH1750 context structure definition. \end{DoxyCompactList}\item 
typedef struct \mbox{\hyperlink{structbh1750__context__t}{bh1750\+\_\+context\+\_\+t}} \texorpdfstring{$\ast$}{*} {\bfseries bh1750\+\_\+handle\+\_\+t}
\begin{DoxyCompactList}\small\item\em BH1750 handle structure definition. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{group__drivers_ga66416e4a883bd9a0719917edaeaae8a7}{bh1750\+\_\+measurement\+\_\+modes\+\_\+e}} \{ \newline
\mbox{\hyperlink{group__drivers_gga66416e4a883bd9a0719917edaeaae8a7a7f7bb6d23176ee157f6543f55a77e359}{BH1750\+\_\+\+MODE\+\_\+\+OM\+\_\+\+HI\+\_\+\+RESOLUTION}} = (0b00100000)
, \mbox{\hyperlink{group__drivers_gga66416e4a883bd9a0719917edaeaae8a7a410482d12c5fdbdfc0921e3c8b24021a}{BH1750\+\_\+\+MODE\+\_\+\+OM\+\_\+\+HI2\+\_\+\+RESOLUTION}} = (0b00100001)
, \mbox{\hyperlink{group__drivers_gga66416e4a883bd9a0719917edaeaae8a7acdc33ad63cd65a7573c5802fdc547684}{BH1750\+\_\+\+MODE\+\_\+\+OM\+\_\+\+LO\+\_\+\+RESOLUTION}} = (0b00100011)
, \mbox{\hyperlink{group__drivers_gga66416e4a883bd9a0719917edaeaae8a7a088345f3ccd93ad8a00d1963a7cc7d3c}{BH1750\+\_\+\+MODE\+\_\+\+CM\+\_\+\+HI\+\_\+\+RESOLUTION}} = (0b00010000)
, \newline
\mbox{\hyperlink{group__drivers_gga66416e4a883bd9a0719917edaeaae8a7a1e5b71915290ad20b74a50e4215b30ce}{BH1750\+\_\+\+MODE\+\_\+\+CM\+\_\+\+HI2\+\_\+\+RESOLUTION}} = (0b00010001)
, \mbox{\hyperlink{group__drivers_gga66416e4a883bd9a0719917edaeaae8a7ac05789a192dcd720760050d89124cb21}{BH1750\+\_\+\+MODE\+\_\+\+CM\+\_\+\+LO\+\_\+\+RESOLUTION}} = (0b00010011)
 \}
\begin{DoxyCompactList}\small\item\em BH1750 measurement modes enumerator. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga7e476a2704b4a58413b2a7de316ef29d}{bh1750\+\_\+init}} (i2c\+\_\+master\+\_\+bus\+\_\+handle\+\_\+t master\+\_\+handle, const \mbox{\hyperlink{group__drivers_ga473a8d2e67b27ec75271fdda3b84dbba}{bh1750\+\_\+config\+\_\+t}} \texorpdfstring{$\ast$}{*}bh1750\+\_\+config, \mbox{\hyperlink{group__drivers_gaf7d20c4f1eb201955b708b4d81779200}{bh1750\+\_\+handle\+\_\+t}} \texorpdfstring{$\ast$}{*}bh1750\+\_\+handle)
\begin{DoxyCompactList}\small\item\em initializes an BH1750 device onto the I2C master bus. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_gac577dd8a77cf737c5ef25add84188e01}{bh1750\+\_\+get\+\_\+ambient\+\_\+light}} (\mbox{\hyperlink{group__drivers_gaf7d20c4f1eb201955b708b4d81779200}{bh1750\+\_\+handle\+\_\+t}} handle, float \texorpdfstring{$\ast$}{*}const ambient\+\_\+light)
\begin{DoxyCompactList}\small\item\em measure BH1750 illuminance. BH1750 goes into power-\/down mode after measurement when one-\/time measurements are configured. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga2d4689f3f1c8bbc70b719b38f009c3ac}{bh1750\+\_\+set\+\_\+measurement\+\_\+mode}} (\mbox{\hyperlink{group__drivers_gaf7d20c4f1eb201955b708b4d81779200}{bh1750\+\_\+handle\+\_\+t}} handle, const \mbox{\hyperlink{group__drivers_ga76514573edf401f3839df07163bff37a}{bh1750\+\_\+measurement\+\_\+modes\+\_\+t}} mode)
\begin{DoxyCompactList}\small\item\em Writes measurement mode to bh1750. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga4649a73b0eb65849d3e8b2d53d0e586f}{bh1750\+\_\+set\+\_\+measurement\+\_\+time}} (\mbox{\hyperlink{group__drivers_gaf7d20c4f1eb201955b708b4d81779200}{bh1750\+\_\+handle\+\_\+t}} handle, const uint8\+\_\+t timespan)
\begin{DoxyCompactList}\small\item\em sets bh1750 sensor measurement time. see datasheet for details. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_gaed00b37e5bfd7819e2c81ef02a04268b}{bh1750\+\_\+enable\+\_\+power}} (\mbox{\hyperlink{group__drivers_gaf7d20c4f1eb201955b708b4d81779200}{bh1750\+\_\+handle\+\_\+t}} handle)
\begin{DoxyCompactList}\small\item\em power-\/up BH1750 sensor. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga1abd1351a7490b7dccc38ba2bc42dce2}{bh1750\+\_\+disable\+\_\+power}} (\mbox{\hyperlink{group__drivers_gaf7d20c4f1eb201955b708b4d81779200}{bh1750\+\_\+handle\+\_\+t}} handle)
\begin{DoxyCompactList}\small\item\em power-\/down BH1750 sensor. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga814dc723c84984e588504cab4a1b2552}{bh1750\+\_\+reset}} (\mbox{\hyperlink{group__drivers_gaf7d20c4f1eb201955b708b4d81779200}{bh1750\+\_\+handle\+\_\+t}} handle)
\begin{DoxyCompactList}\small\item\em soft-\/reset BH1750 sensor. Reset command is not acceptable in power-\/down mode. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_gadbed4b29cd5936e8df6767c128fa640f}{bh1750\+\_\+remove}} (\mbox{\hyperlink{group__drivers_gaf7d20c4f1eb201955b708b4d81779200}{bh1750\+\_\+handle\+\_\+t}} handle)
\begin{DoxyCompactList}\small\item\em removes an BH1750 device from master bus. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga0922b011c6b1d2ce91933e71ea9158f9}{bh1750\+\_\+delete}} (\mbox{\hyperlink{group__drivers_gaf7d20c4f1eb201955b708b4d81779200}{bh1750\+\_\+handle\+\_\+t}} handle)
\begin{DoxyCompactList}\small\item\em removes an BH1750 device from master bus and frees handle. \end{DoxyCompactList}\item 
const char \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{group__drivers_ga30c1494f2d5eb6e99457fae608843b9b}{bh1750\+\_\+get\+\_\+fw\+\_\+version}} (void)
\begin{DoxyCompactList}\small\item\em Converts BH1750 firmware version numbers (major, minor, patch) into a string. \end{DoxyCompactList}\item 
int32\+\_\+t \mbox{\hyperlink{group__drivers_ga4de5312877ad5741597622e5ce03d875}{bh1750\+\_\+get\+\_\+fw\+\_\+version\+\_\+number}} (void)
\begin{DoxyCompactList}\small\item\em Converts BH1750 firmware version numbers (major, minor, patch) into an integer value. \end{DoxyCompactList}\end{DoxyCompactItemize}
