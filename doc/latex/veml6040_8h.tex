\doxysection{components/peripherals/i2c/esp\+\_\+veml6040/include/veml6040.h File Reference}
\hypertarget{veml6040_8h}{}\label{veml6040_8h}\index{components/peripherals/i2c/esp\_veml6040/include/veml6040.h@{components/peripherals/i2c/esp\_veml6040/include/veml6040.h}}
{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include $<$stdbool.\+h$>$}\newline
{\ttfamily \#include $<$esp\+\_\+err.\+h$>$}\newline
{\ttfamily \#include $<$driver/i2c\+\_\+master.\+h$>$}\newline
{\ttfamily \#include $<$type\+\_\+utils.\+h$>$}\newline
{\ttfamily \#include "{}veml6040\+\_\+version.\+h"{}}\newline
\doxysubsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structveml6040__config__s}{veml6040\+\_\+config\+\_\+s}}
\begin{DoxyCompactList}\small\item\em VEML6040 configuration structure. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structveml6040__context__t}{veml6040\+\_\+context\+\_\+t}}
\begin{DoxyCompactList}\small\item\em VEML6040 context structure. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define {\bfseries I2\+C\+\_\+\+VEML6040\+\_\+\+DEV\+\_\+\+CLK\+\_\+\+SPD}~UINT32\+\_\+C(100000)
\begin{DoxyCompactList}\small\item\em veml6040 I2C default clock frequency (100KHz) \end{DoxyCompactList}\item 
\#define {\bfseries I2\+C\+\_\+\+VEML6040\+\_\+\+DEV\+\_\+\+ADDR}~UINT8\+\_\+C(0x10)
\begin{DoxyCompactList}\small\item\em veml6040 I2C address \end{DoxyCompactList}\item 
\#define {\bfseries I2\+C\+\_\+\+XFR\+\_\+\+TIMEOUT\+\_\+\+MS}~(500)
\begin{DoxyCompactList}\small\item\em I2C transaction timeout in milliseconds. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__drivers_ga71fe78780d4400e657ec568722332940}{I2\+C\+\_\+\+VEML6040\+\_\+\+CONFIG\+\_\+\+DEFAULT}}
\begin{DoxyCompactList}\small\item\em VEML6040 device configuration initialization default macro. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef enum \mbox{\hyperlink{group__drivers_gabf4fab025b920a1b4a67341f19269084}{veml6040\+\_\+integration\+\_\+times\+\_\+e}} {\bfseries veml6040\+\_\+integration\+\_\+times\+\_\+t}
\begin{DoxyCompactList}\small\item\em VEML6040 integration times enumerator. \end{DoxyCompactList}\item 
typedef enum \mbox{\hyperlink{group__drivers_ga58f992449473ea7be7328a63b3125334}{veml6040\+\_\+triggers\+\_\+e}} {\bfseries veml6040\+\_\+triggers\+\_\+t}
\begin{DoxyCompactList}\small\item\em VEML6040 triggers enumerator. \end{DoxyCompactList}\item 
typedef enum \mbox{\hyperlink{group__drivers_ga0e4af5e35aa466da691135e807831e4b}{veml6040\+\_\+modes\+\_\+e}} {\bfseries veml6040\+\_\+modes\+\_\+t}
\begin{DoxyCompactList}\small\item\em VEML6040 modes enumerator. \end{DoxyCompactList}\item 
typedef struct \mbox{\hyperlink{structveml6040__config__s}{veml6040\+\_\+config\+\_\+s}} {\bfseries veml6040\+\_\+config\+\_\+t}
\begin{DoxyCompactList}\small\item\em VEML6040 configuration structure. \end{DoxyCompactList}\item 
typedef struct veml6040\+\_\+context\+\_\+t {\bfseries veml6040\+\_\+context\+\_\+t}
\begin{DoxyCompactList}\small\item\em VEML6040 context structure definition. \end{DoxyCompactList}\item 
typedef struct \mbox{\hyperlink{structveml6040__context__t}{veml6040\+\_\+context\+\_\+t}} \texorpdfstring{$\ast$}{*} {\bfseries veml6040\+\_\+handle\+\_\+t}
\begin{DoxyCompactList}\small\item\em VEML6040 handle structure definition. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{group__drivers_gaafe00e5378c3d305d67a8a885f7d0088}\label{group__drivers_gaafe00e5378c3d305d67a8a885f7d0088} 
enum \mbox{\hyperlink{group__drivers_gaafe00e5378c3d305d67a8a885f7d0088}{veml6040\+\_\+channels\+\_\+t}} \{ {\bfseries VEML6040\+\_\+\+CHANNEL\+\_\+\+RED} = 0
, {\bfseries VEML6040\+\_\+\+CHANNEL\+\_\+\+GREEN} = 1
, {\bfseries VEML6040\+\_\+\+CHANNEL\+\_\+\+BLUE} = 2
, {\bfseries VEML6040\+\_\+\+CHANNEL\+\_\+\+WHITE} = 3
 \}
\begin{DoxyCompactList}\small\item\em VEML6040 channels enumerator. \end{DoxyCompactList}\item 
\Hypertarget{group__drivers_gabf4fab025b920a1b4a67341f19269084}\label{group__drivers_gabf4fab025b920a1b4a67341f19269084} 
enum \mbox{\hyperlink{group__drivers_gabf4fab025b920a1b4a67341f19269084}{veml6040\+\_\+integration\+\_\+times\+\_\+e}} \{ \newline
{\bfseries VEML6040\+\_\+\+INTEGRATION\+\_\+\+TIME\+\_\+40\+MS} = (0b000)
, {\bfseries VEML6040\+\_\+\+INTEGRATION\+\_\+\+TIME\+\_\+80\+MS} = (0b001)
, {\bfseries VEML6040\+\_\+\+INTEGRATION\+\_\+\+TIME\+\_\+160\+MS} = (0b010)
, {\bfseries VEML6040\+\_\+\+INTEGRATION\+\_\+\+TIME\+\_\+320\+MS} = (0b011)
, \newline
{\bfseries VEML6040\+\_\+\+INTEGRATION\+\_\+\+TIME\+\_\+640\+MS} = (0b100)
, {\bfseries VEML6040\+\_\+\+INTEGRATION\+\_\+\+TIME\+\_\+1280\+MS} = (0b101)
 \}
\begin{DoxyCompactList}\small\item\em VEML6040 integration times enumerator. \end{DoxyCompactList}\item 
enum \mbox{\hyperlink{group__drivers_ga58f992449473ea7be7328a63b3125334}{veml6040\+\_\+triggers\+\_\+e}} \{ \mbox{\hyperlink{group__drivers_gga58f992449473ea7be7328a63b3125334ae166ad6c78f645e296123d267cae17b5}{VEML6040\+\_\+\+TRIGGER\+\_\+\+NONE}} = 0
, \mbox{\hyperlink{group__drivers_gga58f992449473ea7be7328a63b3125334a59357a805c94a0903b10ad954bb245ca}{VEML6040\+\_\+\+TRIGGER\+\_\+\+ONE\+\_\+\+TIME}} = 1
 \}
\begin{DoxyCompactList}\small\item\em VEML6040 triggers enumerator. \end{DoxyCompactList}\item 
enum \mbox{\hyperlink{group__drivers_ga0e4af5e35aa466da691135e807831e4b}{veml6040\+\_\+modes\+\_\+e}} \{ \mbox{\hyperlink{group__drivers_gga0e4af5e35aa466da691135e807831e4ba235d5d10df643a361c9cb66a29c2079f}{VEML6040\+\_\+\+MODE\+\_\+\+AUTO}} = 0
, \mbox{\hyperlink{group__drivers_gga0e4af5e35aa466da691135e807831e4ba2a0a5f8aa86315f11b5c80564def84b0}{VEML6040\+\_\+\+MODE\+\_\+\+MANUAL}} = 1
 \}
\begin{DoxyCompactList}\small\item\em VEML6040 modes enumerator. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
union \mbox{\hyperlink{group__drivers_gad642cb1b7454d7bc92b753b37ccd7111}{\+\_\+\+\_\+attribute\+\_\+\+\_\+}} ((packed)) ahtxx\+\_\+status\+\_\+register\+\_\+u
\begin{DoxyCompactList}\small\item\em AHTXX status register structure definition. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga6a23c26a1961c5d210bf32053cf9ce96}{veml6040\+\_\+get\+\_\+configuration\+\_\+register}} (\mbox{\hyperlink{group__drivers_ga5138a917680071ae02ee47c3caa2a447}{veml6040\+\_\+handle\+\_\+t}} handle, veml6040\+\_\+config\+\_\+register\+\_\+t \texorpdfstring{$\ast$}{*}const reg)
\begin{DoxyCompactList}\small\item\em Reads configuration register from VEML6040. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga26a52a85e81b397f77d2a633ffb11b91}{veml6040\+\_\+set\+\_\+configuration\+\_\+register}} (\mbox{\hyperlink{group__drivers_ga5138a917680071ae02ee47c3caa2a447}{veml6040\+\_\+handle\+\_\+t}} handle, const veml6040\+\_\+config\+\_\+register\+\_\+t reg)
\begin{DoxyCompactList}\small\item\em Writes configuration register to VEML6040. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_gaa870815f17f869e2b196a33dddb6273d}{veml6040\+\_\+init}} (i2c\+\_\+master\+\_\+bus\+\_\+handle\+\_\+t master\+\_\+handle, const \mbox{\hyperlink{group__drivers_gad40ef4055e142e70775987b4dcc2babd}{veml6040\+\_\+config\+\_\+t}} \texorpdfstring{$\ast$}{*}veml6040\+\_\+config, \mbox{\hyperlink{group__drivers_ga5138a917680071ae02ee47c3caa2a447}{veml6040\+\_\+handle\+\_\+t}} \texorpdfstring{$\ast$}{*}veml6040\+\_\+handle)
\begin{DoxyCompactList}\small\item\em Initializes an VEML6040 device onto the I2C master bus. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_gaaa40c9711ad3fb40fd67ad6c17383229}{veml6040\+\_\+get\+\_\+red\+\_\+als}} (\mbox{\hyperlink{group__drivers_ga5138a917680071ae02ee47c3caa2a447}{veml6040\+\_\+handle\+\_\+t}} handle, float \texorpdfstring{$\ast$}{*}const als)
\begin{DoxyCompactList}\small\item\em Reads red illuminance channel from VEML6040. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_gad2075ef7be54945ef3388a3055a0b58c}{veml6040\+\_\+get\+\_\+green\+\_\+als}} (\mbox{\hyperlink{group__drivers_ga5138a917680071ae02ee47c3caa2a447}{veml6040\+\_\+handle\+\_\+t}} handle, float \texorpdfstring{$\ast$}{*}const als)
\begin{DoxyCompactList}\small\item\em Reads green illuminance channel from VEML6040. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga0867046ddc001e337573a10b9b96b2d6}{veml6040\+\_\+get\+\_\+blue\+\_\+als}} (\mbox{\hyperlink{group__drivers_ga5138a917680071ae02ee47c3caa2a447}{veml6040\+\_\+handle\+\_\+t}} handle, float \texorpdfstring{$\ast$}{*}const als)
\begin{DoxyCompactList}\small\item\em Reads blue illuminance channel from VEML6040. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga0d3ff53326663c7d643b01abb4e9c0b0}{veml6040\+\_\+get\+\_\+white\+\_\+als}} (\mbox{\hyperlink{group__drivers_ga5138a917680071ae02ee47c3caa2a447}{veml6040\+\_\+handle\+\_\+t}} handle, float \texorpdfstring{$\ast$}{*}const als)
\begin{DoxyCompactList}\small\item\em Reads white illuminance channel from VEML6040. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga73af38b41ecc11b9e7895f248ac9adf6}{veml6040\+\_\+get\+\_\+als}} (\mbox{\hyperlink{group__drivers_ga5138a917680071ae02ee47c3caa2a447}{veml6040\+\_\+handle\+\_\+t}} handle, float \texorpdfstring{$\ast$}{*}const red\+\_\+als, float \texorpdfstring{$\ast$}{*}const green\+\_\+als, float \texorpdfstring{$\ast$}{*}const blue\+\_\+als, float \texorpdfstring{$\ast$}{*}const white\+\_\+als)
\begin{DoxyCompactList}\small\item\em Reads red, green, blue, and white illuminance channels from VEML6040. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga598c23cc671ed472dae347258e9ae420}{veml6040\+\_\+get\+\_\+integration\+\_\+time}} (\mbox{\hyperlink{group__drivers_ga5138a917680071ae02ee47c3caa2a447}{veml6040\+\_\+handle\+\_\+t}} handle, \mbox{\hyperlink{group__drivers_ga965474f5a3cc90e59052034af367a774}{veml6040\+\_\+integration\+\_\+times\+\_\+t}} \texorpdfstring{$\ast$}{*}const integration\+\_\+time)
\begin{DoxyCompactList}\small\item\em Reads integration time from VEML6040. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga7bb9690cdbdbb57b3faeaa10d31d3382}{veml6040\+\_\+set\+\_\+integration\+\_\+time}} (\mbox{\hyperlink{group__drivers_ga5138a917680071ae02ee47c3caa2a447}{veml6040\+\_\+handle\+\_\+t}} handle, const \mbox{\hyperlink{group__drivers_ga965474f5a3cc90e59052034af367a774}{veml6040\+\_\+integration\+\_\+times\+\_\+t}} integration\+\_\+time)
\begin{DoxyCompactList}\small\item\em Writes integration time to VEML6040. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_gab9a54cc7db60ebe995d9aeaa899ad4fe}{veml6040\+\_\+get\+\_\+trigger\+\_\+method}} (\mbox{\hyperlink{group__drivers_ga5138a917680071ae02ee47c3caa2a447}{veml6040\+\_\+handle\+\_\+t}} handle, \mbox{\hyperlink{group__drivers_ga80b746ffca4da5b50952601d10cce4a8}{veml6040\+\_\+triggers\+\_\+t}} \texorpdfstring{$\ast$}{*}const trigger\+\_\+method)
\begin{DoxyCompactList}\small\item\em Reads trigger method from VEML6040. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga30117ae62fd513c2ec56d51d358ff404}{veml6040\+\_\+set\+\_\+trigger\+\_\+method}} (\mbox{\hyperlink{group__drivers_ga5138a917680071ae02ee47c3caa2a447}{veml6040\+\_\+handle\+\_\+t}} handle, const \mbox{\hyperlink{group__drivers_ga80b746ffca4da5b50952601d10cce4a8}{veml6040\+\_\+triggers\+\_\+t}} trigger\+\_\+method)
\begin{DoxyCompactList}\small\item\em Write trigger method to VEML6040. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga067d3823a15e94ba31ebc860d4ff027c}{veml6040\+\_\+get\+\_\+mode}} (\mbox{\hyperlink{group__drivers_ga5138a917680071ae02ee47c3caa2a447}{veml6040\+\_\+handle\+\_\+t}} handle, \mbox{\hyperlink{group__drivers_ga9d3ce83e852049877f395e14bc449799}{veml6040\+\_\+modes\+\_\+t}} \texorpdfstring{$\ast$}{*}const mode)
\begin{DoxyCompactList}\small\item\em Reads mode from VEML6040. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_gac9990614b78b5fb0c12af14949ffd278}{veml6040\+\_\+set\+\_\+mode}} (\mbox{\hyperlink{group__drivers_ga5138a917680071ae02ee47c3caa2a447}{veml6040\+\_\+handle\+\_\+t}} handle, const \mbox{\hyperlink{group__drivers_ga9d3ce83e852049877f395e14bc449799}{veml6040\+\_\+modes\+\_\+t}} mode)
\begin{DoxyCompactList}\small\item\em Writes mode to VEML6040. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga576aa4f19376f58e42facf56a6e793c5}{veml6040\+\_\+disable}} (\mbox{\hyperlink{group__drivers_ga5138a917680071ae02ee47c3caa2a447}{veml6040\+\_\+handle\+\_\+t}} handle)
\begin{DoxyCompactList}\small\item\em Shuts down VEML6040 until woken. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga02a231de273876f832ff49e0b4f77b8b}{veml6040\+\_\+enable}} (\mbox{\hyperlink{group__drivers_ga5138a917680071ae02ee47c3caa2a447}{veml6040\+\_\+handle\+\_\+t}} handle)
\begin{DoxyCompactList}\small\item\em Wakes up VEML6040 from shutdown. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_gaf8046d8916700879d5618cbc5e8570a7}{veml6040\+\_\+remove}} (\mbox{\hyperlink{group__drivers_ga5138a917680071ae02ee47c3caa2a447}{veml6040\+\_\+handle\+\_\+t}} handle)
\begin{DoxyCompactList}\small\item\em Removes an VEML6040 device from master bus. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga5010c3ba013060596795aa384df1e0d2}{veml6040\+\_\+delete}} (\mbox{\hyperlink{group__drivers_ga5138a917680071ae02ee47c3caa2a447}{veml6040\+\_\+handle\+\_\+t}} handle)
\begin{DoxyCompactList}\small\item\em Removes an VEML6040 device from master I2C bus and delete the handle. \end{DoxyCompactList}\item 
const char \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{group__drivers_ga014ca37ccf96d146020c0b298c11ef95}{veml6040\+\_\+get\+\_\+fw\+\_\+version}} (void)
\begin{DoxyCompactList}\small\item\em Converts VEML6040 firmware version numbers (major, minor, patch) into a string. \end{DoxyCompactList}\item 
int32\+\_\+t \mbox{\hyperlink{group__drivers_gaaab06871d262e2320e6de4f1b378a6cb}{veml6040\+\_\+get\+\_\+fw\+\_\+version\+\_\+number}} (void)
\begin{DoxyCompactList}\small\item\em Converts VEML6040 firmware version numbers (major, minor, patch) into an integer value. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
{\bfseries veml6040\+\_\+config\+\_\+register\+\_\+t}
\end{DoxyCompactItemize}
