<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ESP-IDF Components by K0I05: components/peripherals/owb/esp_ds18b20 Directory Reference</title>
<link rel="icon" href="k0i05_avatar_round_20x20.png" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="k0i05_avatar_round_50x50.png"/></td>
  <td id="projectalign">
   <div id="projectname">ESP-IDF Components by K0I05
   </div>
   <div id="projectbrief">A library of peripheral, scheduling, storage, and utility components compatible with the ESP32 espressif IoT development framework (esp-idf).</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('dir_e7306013d7d0831bc5e5431cce9c1d12.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">esp_ds18b20 Directory Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="subdirs" name="subdirs"></a>
Directories</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top"><span class="iconfclosed"></span>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_5519b8894b353a00aa76daf52d5e4690.html">include</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="files" name="files"></a>
Files</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top"><span class="icondoc"></span>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="de/de2/ds18b20_8c.html">ds18b20.c</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p><a href="https://github.com/K0I05"><img src="https://img.shields.io/badge/K0I05-a9a9a9?logo=data:image/svg%2bxml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxODgiIGhlaWdodD0iMTg3Ij48cGF0aCBmaWxsPSIjNDU0QjU0IiBkPSJNMTU1LjU1NSAyMS45M2MxOS4yNzMgMTUuOTggMjkuNDcyIDM5LjM0NSAzMi4xNjggNjMuNzg5IDEuOTM3IDIyLjkxOC00LjU1MyA0Ni42Ni0xOC44NDggNjQuNzgxQTUwOS40NzggNTA5LjQ3OCAwIDAgMSAxNjUgMTU1bC0xLjQ4NCAxLjg4M2MtMTMuMTk2IDE2LjUzMS0zNS41NTUgMjcuMjE1LTU2LjMzOSAyOS45MDItMjguMzEyIDIuOC01Mi4yNTUtNC43MzctNzQuNzMyLTIxLjcxNUMxMy4xNzIgMTQ5LjA5IDIuOTczIDEyNS43MjUuMjc3IDEwMS4yODEtMS42NiA3OC4zNjMgNC44MyA1NC42MjEgMTkuMTI1IDM2LjVBNTA5LjQ3OCA1MDkuNDc4IDAgMCAxIDIzIDMybDEuNDg0LTEuODgzQzM3LjY4IDEzLjU4NiA2MC4wNCAyLjkwMiA4MC44MjMuMjE1YzI4LjMxMi0yLjggNTIuMjU1IDQuNzM3IDc0LjczMiAyMS43MTVaIi8+PHBhdGggZmlsbD0iI0ZERkRGRCIgZD0iTTExOS44NjcgNDUuMjdDMTI4LjkzMiA1Mi4yNiAxMzMuODIgNjMgMTM2IDc0Yy42MyA0Ljk3Mi44NDIgOS45NTMuOTUzIDE0Ljk2LjA0NCAxLjkxMS4xMjIgMy44MjIuMjAzIDUuNzMxLjM0IDEyLjIxLjM0IDEyLjIxLTMuMTU2IDE3LjMwOWE5NS42MDQgOTUuNjA0IDAgMCAxLTQuMTg4IDMuNjI1Yy00LjUgMy43MTctNi45NzQgNy42ODgtOS43MTcgMTIuODAzQzEwNi45NCAxNTIuNzkyIDEwNi45NCAxNTIuNzkyIDk3IDE1N2MtMy40MjMuNTkyLTUuODAxLjY4NS04Ljg3OS0xLjA3NC05LjgyNi03Ljg4LTE2LjAzNi0xOS41OS0yMS44NTgtMzAuNTEyLTIuNTM0LTQuNTc1LTUuMDA2LTcuMjEtOS40NjYtMTAuMDItMy43MTQtMi44ODItNS40NS02Ljk4Ni02Ljc5Ny0xMS4zOTQtLjU1LTQuODg5LS41NjEtOS4zMTYgMS0xNCAuMDkzLTEuNzYzLjE4Mi0zLjUyNy4yMzktNS4yOTIuNDkxLTEzLjg4NCAzLjg2Ni0yNy4wNTcgMTQuMTU2LTM3LjAyOCAxNy4yMTgtMTQuMzM2IDM1Ljg1OC0xNS4wNjYgNTQuNDcyLTIuNDFaIi8+PHBhdGggZmlsbD0iI0M2RDVFMCIgZD0iTTEwOSAzOWMxMS43MDMgNS4yNTUgMTkuMjA2IDEzLjE4NiAyNC4yOTMgMjUuMDA0IDIuODU3IDguMjQgMy40NyAxNi4zMTYgMy42NiAyNC45NTYuMDQ0IDEuOTExLjEyMiAzLjgyMi4yMDMgNS43MzEuMzQgMTIuMjEuMzQgMTIuMjEtMy4xNTYgMTcuMzA5YTk1LjYwNCA5NS42MDQgMCAwIDEtNC4xODggMy42MjVjLTQuNSAzLjcxNy02Ljk3NCA3LjY4OC05LjcxNyAxMi44MDNDMTA2LjgwNCAxNTMuMDQxIDEwNi44MDQgMTUzLjA0MSA5NyAxNTdjLTIuMzMyLjA3OC00LjY2OC4wOS03IDBsMi4xMjUtMS44NzVjNS40My01LjQ0NSA4Ljc0NC0xMi41NzcgMTEuNzU0LTE5LjU1OWEzNDkuNzc1IDM0OS43NzUgMCAwIDEgNC40OTYtOS44NzlsMS42NDgtMy41NWMyLjI0LTMuNTU1IDQuNDEtNC45OTYgNy45NzctNy4xMzcgMi4zMjMtMi42MSAyLjMyMy0yLjYxIDQtNWwtMyAxYy0yLjY4LjE0OC01LjMxOS4yMy04IC4yNWwtMi4xOTUuMDYzYy01LjI4Ny4wMzktNS4yODcuMDM5LTcuNzc4LTEuNjUzLTEuNjY2LTIuNjkyLTEuNDUzLTQuNTYtMS4wMjctNy42NiAyLjM5NS00LjM2MiA0LjkyNC04LjA0IDkuODI4LTkuNTcgMi4zNjQtLjQ2OCA0LjUxNC0uNTI4IDYuOTIyLS40OTNsMi40MjIuMDI4TDEyMSA5MmwtMS0yYTkyLjc1OCA5Mi43NTggMCAwIDEtLjM2LTQuNTg2QzExOC42IDY5LjYzMiAxMTYuNTE3IDU2LjA5NCAxMDQgNDVjLTUuOTA0LTQuNjY0LTExLjYtNi4wODgtMTktNyA3LjU5NC00LjI2NCAxNi4yMjMtMS44MSAyNCAxWiIvPjxwYXRoIGZpbGw9IiM0OTUwNTgiIGQ9Ik03NyA5MmM0LjYxMyAxLjY3MSA3LjI2IDMuOTQ1IDEwLjA2MyA3LjkzOCAxLjA3OCAzLjUyMy45NzYgNS41NDYtLjA2MyA5LjA2Mi0yLjk4NCAyLjk4NC02LjI1NiAyLjM2OC0xMC4yNSAyLjM3NWwtMi4yNzcuMDc0Yy01LjI5OC4wMjgtOC4yNTQtLjk4My0xMi40NzMtNC40NDktMi44MjYtMy41OTctMi40MTYtNy42MzQtMi0xMiA0LjUwMi00LjcyOCAxMC45OS0zLjc2IDE3LTNaIi8+PHBhdGggZmlsbD0iIzQ4NEY1NyIgZD0ibTExOCA5MS43NSAzLjEyNS0uMDc4YzMuMjU0LjM3MSA0LjU5NyAxLjAwMiA2Ljg3NSAzLjMyOC42MzkgNC4yMzEuMjkgNi40NDItMS42ODggMTAuMjUtMy40MjggNC4wNzgtNS44MjcgNS41OTgtMTEuMTk1IDYuMTQ4LTEuNDE0LjAwOC0yLjgyOCAwLTQuMjQyLS4wMjNsLTIuMTY4LjAzNWMtMi45OTgtLjAxNy01LjE1Ny0uMDMzLTcuNjcyLTEuNzU4LTEuNjgxLTIuNjg0LTEuNDYtNC41NTItMS4wMzUtNy42NTIgMi4zNzUtNC4zMjUgNC44OTQtOC4wMDkgOS43NS05LjU1OSAyLjc3Ny0uNTQ0IDUuNDItLjY0OSA4LjI1LS42OTFaIi8+PHBhdGggZmlsbD0iIzUyNTg2MCIgZD0iTTg2IDEzNGgxNmwxIDRjLTIgMi0yIDItNS4xODggMi4yNjZMOTQgMTQwLjI1bC0zLjgxMy4wMTZDODcgMTQwIDg3IDE0MCA4NSAxMzhsMS00WiIvPjwvc3ZnPg==" alt="K0I05" class="inline"/></a> <a href="/LICENSE"><img src="https://cdn.prod.website-files.com/5e0f1144930a8bc8aace526c/65dd9eb5aaca434fac4f1c34_License-MIT-blue.svg" alt="License: MIT" style="pointer-events: none;" class="inline"/></a> <a href="https://en.wikipedia.org/wiki/C_(programming_language)"><img src="https://img.shields.io/badge/Language-C-navy.svg" alt="Language" style="pointer-events: none;" class="inline"/></a> <a href="https://docs.espressif.com/projects/esp-idf/en/stable/esp32/index.html"><img src="https://img.shields.io/badge/Framework-ESP_IDF-red.svg" alt="Framework" style="pointer-events: none;" class="inline"/></a> <a href="https://code.visualstudio.com/"><img src="https://badgen.net/badge/icon/VS%20Code?icon=visualstudio&amp;label=edited%20with" alt="Edited with VS Code" class="inline"/></a> <a href="https://platformio.org/"><img src="https://img.shields.io/badge/build%20with-PlatformIO-orange?logo=data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB3aWR0aD0iMjUwMCIgaGVpZ2h0PSIyNTAwIiB2aWV3Qm94PSIwIDAgMjU2IDI1NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCI+PHBhdGggZD0iTTEyOCAwQzkzLjgxIDAgNjEuNjY2IDEzLjMxNCAzNy40OSAzNy40OSAxMy4zMTQgNjEuNjY2IDAgOTMuODEgMCAxMjhjMCAzNC4xOSAxMy4zMTQgNjYuMzM0IDM3LjQ5IDkwLjUxQzYxLjY2NiAyNDIuNjg2IDkzLjgxIDI1NiAxMjggMjU2YzM0LjE5IDAgNjYuMzM0LTEzLjMxNCA5MC41MS0zNy40OUMyNDIuNjg2IDE5NC4zMzQgMjU2IDE2Mi4xOSAyNTYgMTI4YzAtMzQuMTktMTMuMzE0LTY2LjMzNC0zNy40OS05MC41MUMxOTQuMzM0IDEzLjMxNCAxNjIuMTkgMCAxMjggMCIgZmlsbD0iI0ZGN0YwMCIvPjxwYXRoIGQ9Ik0yNDkuMzg2IDEyOGMwIDY3LjA0LTU0LjM0NyAxMjEuMzg2LTEyMS4zODYgMTIxLjM4NkM2MC45NiAyNDkuMzg2IDYuNjEzIDE5NS4wNCA2LjYxMyAxMjggNi42MTMgNjAuOTYgNjAuOTYgNi42MTQgMTI4IDYuNjE0YzY3LjA0IDAgMTIxLjM4NiA1NC4zNDYgMTIxLjM4NiAxMjEuMzg2IiBmaWxsPSIjRkZGIi8+PHBhdGggZD0iTTE2MC44NjkgNzQuMDYybDUuMTQ1LTE4LjUzN2M1LjI2NC0uNDcgOS4zOTItNC44ODYgOS4zOTItMTAuMjczIDAtNS43LTQuNjItMTAuMzItMTAuMzItMTAuMzJzLTEwLjMyIDQuNjItMTAuMzIgMTAuMzJjMCAzLjc1NSAyLjAxMyA3LjAzIDUuMDEgOC44MzdsLTUuMDUgMTguMTk1Yy0xNC40MzctMy42Ny0yNi42MjUtMy4zOS0yNi42MjUtMy4zOWwtMi4yNTggMS4wMXYxNDAuODcybDIuMjU4Ljc1M2MxMy42MTQgMCA3My4xNzctNDEuMTMzIDczLjMyMy04NS4yNyAwLTMxLjYyNC0yMS4wMjMtNDUuODI1LTQwLjU1NS01Mi4xOTd6TTE0Ni41MyAxNjQuOGMtMTEuNjE3LTE4LjU1Ny02LjcwNi02MS43NTEgMjMuNjQzLTY3LjkyNSA4LjMyLTEuMzMzIDE4LjUwOSA0LjEzNCAyMS41MSAxNi4yNzkgNy41ODIgMjUuNzY2LTM3LjAxNSA2MS44NDUtNDUuMTUzIDUxLjY0NnptMTguMjE2LTM5Ljc1MmE5LjM5OSA5LjM5OSAwIDAgMC05LjM5OSA5LjM5OSA5LjM5OSA5LjM5OSAwIDAgMCA5LjQgOS4zOTkgOS4zOTkgOS4zOTkgMCAwIDAgOS4zOTgtOS40IDkuMzk5IDkuMzk5IDAgMCAwLTkuMzk5LTkuMzk4em0yLjgxIDguNjcyYTIuMzc0IDIuMzc0IDAgMSAxIDAtNC43NDkgMi4zNzQgMi4zNzQgMCAwIDEgMCA0Ljc0OXoiIGZpbGw9IiNFNTcyMDAiLz48cGF0aCBkPSJNMTAxLjM3MSA3Mi43MDlsLTUuMDIzLTE4LjkwMWMyLjg3NC0xLjgzMiA0Ljc4Ni01LjA0IDQuNzg2LTguNzAxIDAtNS43LTQuNjItMTAuMzItMTAuMzItMTAuMzItNS42OTkgMC0xMC4zMTkgNC42Mi0xMC4zMTkgMTAuMzIgMCA1LjY4MiA0LjU5MiAxMC4yODkgMTAuMjY3IDEwLjMxN0w5NS44IDc0LjM3OGMtMTkuNjA5IDYuNTEtNDAuODg1IDIwLjc0Mi00MC44ODUgNTEuODguNDM2IDQ1LjAxIDU5LjU3MiA4NS4yNjcgNzMuMTg2IDg1LjI2N1Y2OC44OTJzLTEyLjI1Mi0uMDYyLTI2LjcyOSAzLjgxN3ptMTAuMzk1IDkyLjA5Yy04LjEzOCAxMC4yLTUyLjczNS0yNS44OC00NS4xNTQtNTEuNjQ1IDMuMDAyLTEyLjE0NSAxMy4xOS0xNy42MTIgMjEuNTExLTE2LjI4IDMwLjM1IDYuMTc1IDM1LjI2IDQ5LjM2OSAyMy42NDMgNjcuOTI2em0tMTguODItMzkuNDZhOS4zOTkgOS4zOTkgMCAwIDAtOS4zOTkgOS4zOTggOS4zOTkgOS4zOTkgMCAwIDAgOS40IDkuNCA5LjM5OSA5LjM5OSAwIDAgMCA5LjM5OC05LjQgOS4zOTkgOS4zOTkgMCAwIDAtOS4zOTktOS4zOTl6bS0yLjgxIDguNjcxYTIuMzc0IDIuMzc0IDAgMSAxIDAtNC43NDggMi4zNzQgMi4zNzQgMCAwIDEgMCA0Ljc0OHoiIGZpbGw9IiNGRjdGMDAiLz48L3N2Zz4=" alt="Build with PlatformIO" class="inline"/></a> <a href="https://registry.platformio.org/libraries/k0i05/esp_ds18b20"><img src="https://badges.registry.platformio.org/packages/k0i05/library/esp_ds18b20.svg" alt="PlatformIO Registry" style="pointer-events: none;" class="inline"/></a> <a href="https://components.espressif.com/components/k0i05/esp_ds18b20"><img src="https://components.espressif.com/components/k0i05/esp_ds18b20/badge.svg" alt="ESP Component Registry" style="pointer-events: none;" class="inline"/></a></p>
<p>This ESP32 espressif IoT development framework (esp-idf) i2c peripheral driver was developed for the Maxim-Integrated DS18B20 1-wire temperature sensor. Information on features and functionality are documented and can be found in the <code><a class="el" href="dc/d6e/ds18b20_8h.html">ds18b20.h</a></code> header file and in the <code>documentation</code> folder.</p>
<h1><a class="anchor" id="autotoc_md96"></a>
Repository</h1>
<p>The component is hosted on github and is located here: <a href="https://github.com/K0I05/ESP32-S3_ESP-IDF_COMPONENTS/tree/main/components/peripherals/owb/esp_ds18b20">https://github.com/K0I05/ESP32-S3_ESP-IDF_COMPONENTS/tree/main/components/peripherals/owb/esp_ds18b20</a></p>
<h1><a class="anchor" id="autotoc_md97"></a>
General Usage</h1>
<p>To get started, simply copy the component to your project's <code>components</code> folder and reference the <code><a class="el" href="dc/d6e/ds18b20_8h.html">ds18b20.h</a></code> header file as an include. The component includes documentation for the peripheral such as the datasheet, application notes, and/or user manual where applicable.</p>
<div class="fragment"><div class="line">components</div>
<div class="line">└── esp_ds18b20</div>
<div class="line">    ├── CMakeLists.txt</div>
<div class="line">    ├── README.md</div>
<div class="line">    ├── LICENSE</div>
<div class="line">    ├── idf_component.yml</div>
<div class="line">    ├── library.json</div>
<div class="line">    ├── documentation</div>
<div class="line">    │   └── datasheets, etc.</div>
<div class="line">    ├── include</div>
<div class="line">    │   └── ds18b20_version.h</div>
<div class="line">    │   └── ds18b20.h</div>
<div class="line">    └── ds18b20.c</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md98"></a>
Basic Example</h1>
<p>Once a driver instance is instantiated the sensor is ready for usage as shown in the below example. This basic implementation of the driver utilizes default configuration settings, prints DS18S20 sensors detected on the 1-wire bus, and makes a measurement request from the sensor at a user defined interval and prints the results.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="dc/d6e/ds18b20_8h.html">ds18b20.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> owb0_ds18b20_task( <span class="keywordtype">void</span> *pvParameters ) {</div>
<div class="line">    <span class="comment">// initialize the xLastWakeTime variable with the current time.</span></div>
<div class="line">    TickType_t                   last_wake_time = xTaskGetTickCount ();</div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// initialize owb device configuration</span></div>
<div class="line">    <a class="code hl_typedef" href="d6/d0f/group__drivers.html#gaf0a7fbdb7b61aa0636778a6f5e22ce68">ds18b20_config_t</a>             dev_cfg = OWB_DS18B20_CONFIG_DEFAULT;</div>
<div class="line">    <a class="code hl_typedef" href="d6/d0f/group__drivers.html#gaa0631d921e9f741ba8c1cd3696723ba6">ds18b20_handle_t</a>             dev_hdl;</div>
<div class="line">    onewire_device_iter_handle_t dev_iter_hdl;</div>
<div class="line">    onewire_device_t             dev;</div>
<div class="line">    <span class="comment">// owb ds18b20 device detection</span></div>
<div class="line">    onewire_device_t             devs[5];</div>
<div class="line">    uint8_t                      devs_size = <span class="keyword">sizeof</span>(devs) / <span class="keyword">sizeof</span>(devs[0]);</div>
<div class="line">    uint8_t                      devs_count = 0;</div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// detect ds18b20 devices on 1-wire bus</span></div>
<div class="line">    esp_err_t ret = <a class="code hl_function" href="d6/d0f/group__drivers.html#ga92ed90eb99c6af8ced8ec60ded005e15">ds18b20_detect</a>(owb0_bus_hdl, devs, devs_size, &amp;devs_count);</div>
<div class="line">    <span class="keywordflow">if</span>(ret == ESP_OK) {</div>
<div class="line">        ESP_LOGW(APP_TAG, <span class="stringliteral">&quot;ds18b20 devices detected: %u&quot;</span>, devs_count);</div>
<div class="line">        <span class="keywordflow">for</span>(uint8_t i = 0; i &lt; devs_count; i++) {</div>
<div class="line">            ESP_LOGI(APP_TAG, <span class="stringliteral">&quot;ds18b20(%u), address: %016llX&quot;</span>, i, devs[i].address);</div>
<div class="line">        }</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        ESP_LOGE(APP_TAG, <span class="stringliteral">&quot;ds18b20 device detect failed (%s)&quot;</span>, esp_err_to_name(ret));</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// instantiate 1-wire device iterator handle</span></div>
<div class="line">    ESP_ERROR_CHECK( onewire_new_device_iter(owb0_bus_hdl, &amp;dev_iter_hdl) );</div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// get 1-wire device - assumes there is only one ds18b20 device on the bus</span></div>
<div class="line">    <span class="keywordflow">if</span> (onewire_device_iter_get_next(dev_iter_hdl, &amp;dev) == ESP_OK) { <span class="comment">// found a new device, let&#39;s check if we can upgrade it to a DS18B20</span></div>
<div class="line">        <span class="comment">// check if the device is a ds18b20, if so, return the ds18b20 handle</span></div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code hl_function" href="d6/d0f/group__drivers.html#ga873dc167ef31c19d2ed3c8aeb8858b40">ds18b20_init</a>(&amp;dev, &amp;dev_cfg, &amp;dev_hdl) == ESP_OK) {</div>
<div class="line">            ESP_LOGI(APP_TAG, <span class="stringliteral">&quot;found a ds18b20, address: %016llX&quot;</span>, dev.address);</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            ESP_LOGI(APP_TAG, <span class="stringliteral">&quot;found an unknown device, address: %016llX&quot;</span>, dev.address);</div>
<div class="line">            assert(dev.address);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// free device iter handle</span></div>
<div class="line">    ESP_ERROR_CHECK( onewire_del_device_iter(dev_iter_hdl) );</div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// get/set/get resolution</span></div>
<div class="line">    <a class="code hl_typedef" href="d6/d0f/group__drivers.html#ga622b32418d99b0ae4feaf2e955f7a0f8">ds18b20_resolutions_t</a> dev_reso;</div>
<div class="line">    ESP_ERROR_CHECK( <a class="code hl_function" href="d6/d0f/group__drivers.html#ga7e59840ae488ec9c5d6f48449e3e9491">ds18b20_get_resolution</a>(dev_hdl, &amp;dev_reso) );</div>
<div class="line">    ESP_LOGW(APP_TAG, <span class="stringliteral">&quot;ds18b20 get resolution: %d&quot;</span>, dev_reso);</div>
<div class="line">    ESP_ERROR_CHECK( <a class="code hl_function" href="d6/d0f/group__drivers.html#ga3c7b35f59d1d0ef09399784a9bf4bb84">ds18b20_set_resolution</a>(dev_hdl, <a class="code hl_enumvalue" href="d6/d0f/group__drivers.html#ggacf07a98756a425197bfab93e4d170eaca0396bfa58a01fdd9922771715e1467f6">DS18B20_RESOLUTION_11BIT</a>) );</div>
<div class="line">    ESP_ERROR_CHECK( <a class="code hl_function" href="d6/d0f/group__drivers.html#ga7e59840ae488ec9c5d6f48449e3e9491">ds18b20_get_resolution</a>(dev_hdl, &amp;dev_reso) );</div>
<div class="line">    ESP_LOGW(APP_TAG, <span class="stringliteral">&quot;ds18b20 get resolution: %d&quot;</span>, dev_reso);</div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// validate device handle</span></div>
<div class="line">    <span class="keywordflow">if</span>(dev_hdl == NULL) {</div>
<div class="line">        ESP_LOGE(APP_TAG, <span class="stringliteral">&quot;ds18b20 handle init failed&quot;</span>);</div>
<div class="line">        assert(dev_hdl);</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// task loop entry point</span></div>
<div class="line">    <span class="keywordflow">for</span>( ;; ) {</div>
<div class="line">        ESP_LOGI(APP_TAG, <span class="stringliteral">&quot;######################## DS18B20 - START #########################&quot;</span>);</div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// handle sensor</span></div>
<div class="line">        <span class="keywordtype">float</span> temperature;</div>
<div class="line">        esp_err_t result = <a class="code hl_function" href="d6/d0f/group__drivers.html#gaf171cc3cd419edf22b67bd05e6840bb9">ds18b20_get_measurement</a>(dev_hdl, &amp;temperature);</div>
<div class="line">        <span class="keywordflow">if</span>(result != ESP_OK) {</div>
<div class="line">            ESP_LOGE(APP_TAG, <span class="stringliteral">&quot;ds18b20 device read failed (%s)&quot;</span>, esp_err_to_name(result));</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            ESP_LOGI(APP_TAG, <span class="stringliteral">&quot;temperature:     %.2f°C&quot;</span>, temperature);</div>
<div class="line">        }</div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        ESP_LOGI(APP_TAG, <span class="stringliteral">&quot;######################## DS18B20 - END ###########################&quot;</span>);</div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// pause the task per defined wait period</span></div>
<div class="line">        vTaskDelaySecUntil( &amp;last_wake_time, OWB0_TASK_SAMPLING_RATE );</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// free resources</span></div>
<div class="line">    <a class="code hl_function" href="d6/d0f/group__drivers.html#gacbd8f069919bd0e81dfc2d5376bdd35f">ds18b20_delete</a>( dev_hdl );</div>
<div class="line">    vTaskDelete( NULL );</div>
<div class="line">}</div>
<div class="ttc" id="ads18b20_8h_html"><div class="ttname"><a href="dc/d6e/ds18b20_8h.html">ds18b20.h</a></div></div>
<div class="ttc" id="agroup__drivers_html_ga3c7b35f59d1d0ef09399784a9bf4bb84"><div class="ttname"><a href="d6/d0f/group__drivers.html#ga3c7b35f59d1d0ef09399784a9bf4bb84">ds18b20_set_resolution</a></div><div class="ttdeci">esp_err_t ds18b20_set_resolution(ds18b20_handle_t handle, const ds18b20_resolutions_t resolution)</div><div class="ttdoc">Writes temperature conversion resolution to DS18B20.</div><div class="ttdef"><b>Definition</b> ds18b20.c:316</div></div>
<div class="ttc" id="agroup__drivers_html_ga622b32418d99b0ae4feaf2e955f7a0f8"><div class="ttname"><a href="d6/d0f/group__drivers.html#ga622b32418d99b0ae4feaf2e955f7a0f8">ds18b20_resolutions_t</a></div><div class="ttdeci">enum ds18b20_resolutions_e ds18b20_resolutions_t</div><div class="ttdoc">DS18B20 supported resolutions enumerator.</div></div>
<div class="ttc" id="agroup__drivers_html_ga7e59840ae488ec9c5d6f48449e3e9491"><div class="ttname"><a href="d6/d0f/group__drivers.html#ga7e59840ae488ec9c5d6f48449e3e9491">ds18b20_get_resolution</a></div><div class="ttdeci">esp_err_t ds18b20_get_resolution(ds18b20_handle_t handle, ds18b20_resolutions_t *const resolution)</div><div class="ttdoc">Reads temperature conversion resolution from DS18B20.</div><div class="ttdef"><b>Definition</b> ds18b20.c:290</div></div>
<div class="ttc" id="agroup__drivers_html_ga873dc167ef31c19d2ed3c8aeb8858b40"><div class="ttname"><a href="d6/d0f/group__drivers.html#ga873dc167ef31c19d2ed3c8aeb8858b40">ds18b20_init</a></div><div class="ttdeci">esp_err_t ds18b20_init(onewire_device_t *device, const ds18b20_config_t *ds18b20_config, ds18b20_handle_t *ds18b20_handle)</div><div class="ttdoc">Initializes an DS18B20 device onto the 1-wire master bus.</div><div class="ttdef"><b>Definition</b> ds18b20.c:182</div></div>
<div class="ttc" id="agroup__drivers_html_ga92ed90eb99c6af8ced8ec60ded005e15"><div class="ttname"><a href="d6/d0f/group__drivers.html#ga92ed90eb99c6af8ced8ec60ded005e15">ds18b20_detect</a></div><div class="ttdeci">esp_err_t ds18b20_detect(onewire_bus_handle_t owb_handle, onewire_device_t *const devices, const uint8_t device_size, uint8_t *const device_count)</div><div class="ttdoc">Detects up to 10 DS18B20 devices on the 1-wire bus.</div><div class="ttdef"><b>Definition</b> ds18b20.c:123</div></div>
<div class="ttc" id="agroup__drivers_html_gaa0631d921e9f741ba8c1cd3696723ba6"><div class="ttname"><a href="d6/d0f/group__drivers.html#gaa0631d921e9f741ba8c1cd3696723ba6">ds18b20_handle_t</a></div><div class="ttdeci">struct ds18b20_context_t * ds18b20_handle_t</div><div class="ttdoc">DS18B20 handle structure definition.</div><div class="ttdef"><b>Definition</b> ds18b20.h:135</div></div>
<div class="ttc" id="agroup__drivers_html_gacbd8f069919bd0e81dfc2d5376bdd35f"><div class="ttname"><a href="d6/d0f/group__drivers.html#gacbd8f069919bd0e81dfc2d5376bdd35f">ds18b20_delete</a></div><div class="ttdeci">esp_err_t ds18b20_delete(ds18b20_handle_t handle)</div><div class="ttdoc">Removes an DS18B20 device from master bus and frees handle.</div><div class="ttdef"><b>Definition</b> ds18b20.c:451</div></div>
<div class="ttc" id="agroup__drivers_html_gaf0a7fbdb7b61aa0636778a6f5e22ce68"><div class="ttname"><a href="d6/d0f/group__drivers.html#gaf0a7fbdb7b61aa0636778a6f5e22ce68">ds18b20_config_t</a></div><div class="ttdeci">struct ds18b20_config_s ds18b20_config_t</div><div class="ttdoc">DS18B20 device configuration structure.</div></div>
<div class="ttc" id="agroup__drivers_html_gaf171cc3cd419edf22b67bd05e6840bb9"><div class="ttname"><a href="d6/d0f/group__drivers.html#gaf171cc3cd419edf22b67bd05e6840bb9">ds18b20_get_measurement</a></div><div class="ttdeci">esp_err_t ds18b20_get_measurement(ds18b20_handle_t handle, float *const temperature)</div><div class="ttdoc">Reads temperature from DS18B20.</div><div class="ttdef"><b>Definition</b> ds18b20.c:229</div></div>
<div class="ttc" id="agroup__drivers_html_ggacf07a98756a425197bfab93e4d170eaca0396bfa58a01fdd9922771715e1467f6"><div class="ttname"><a href="d6/d0f/group__drivers.html#ggacf07a98756a425197bfab93e4d170eaca0396bfa58a01fdd9922771715e1467f6">DS18B20_RESOLUTION_11BIT</a></div><div class="ttdeci">@ DS18B20_RESOLUTION_11BIT</div><div class="ttdef"><b>Definition</b> ds18b20.h:77</div></div>
</div><!-- fragment --><p>Copyright (c) 2024 Eric Gionet (<a href="#" onclick="location.href='mai'+'lto:'+'gio'+'ne'+'t.c'+'.e'+'ric'+'@g'+'mai'+'l.'+'com'; return false;">gione<span class="obfuscator">.nosp@m.</span>t.c.<span class="obfuscator">.nosp@m.</span>eric@<span class="obfuscator">.nosp@m.</span>gmai<span class="obfuscator">.nosp@m.</span>l.com</a>) </p>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_409f97388efe006bc3438b95e9edef48.html">components</a></li><li class="navelem"><a class="el" href="dir_1139401e013e97c428174aecf5949131.html">peripherals</a></li><li class="navelem"><a class="el" href="dir_3c018409dc371abd5c9f9ab2a8d52eda.html">owb</a></li><li class="navelem"><a class="el" href="dir_e7306013d7d0831bc5e5431cce9c1d12.html">esp_ds18b20</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
