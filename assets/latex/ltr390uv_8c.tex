\doxysection{components/peripherals/i2c/esp\+\_\+ltr390uv/ltr390uv.c File Reference}
\hypertarget{ltr390uv_8c}{}\label{ltr390uv_8c}\index{components/peripherals/i2c/esp\_ltr390uv/ltr390uv.c@{components/peripherals/i2c/esp\_ltr390uv/ltr390uv.c}}
{\ttfamily \#include "{}include/ltr390uv.\+h"{}}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$math.\+h$>$}\newline
{\ttfamily \#include $<$esp\+\_\+log.\+h$>$}\newline
{\ttfamily \#include $<$esp\+\_\+check.\+h$>$}\newline
{\ttfamily \#include $<$esp\+\_\+timer.\+h$>$}\newline
{\ttfamily \#include $<$freertos/\+Free\+RTOS.\+h$>$}\newline
{\ttfamily \#include $<$freertos/task.\+h$>$}\newline
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{ltr390uv_8c_a0fbc16b6e8b1b6e3ecb7e53f463b67fa}\label{ltr390uv_8c_a0fbc16b6e8b1b6e3ecb7e53f463b67fa} 
\#define {\bfseries LTR390\+UV\+\_\+\+REG\+\_\+\+MAIN\+\_\+\+CTRL\+\_\+\+RW}~UINT8\+\_\+C(0x00) /\texorpdfstring{$\ast$}{*} 0x00 \texorpdfstring{$\ast$}{*}/
\item 
\Hypertarget{ltr390uv_8c_a89c8e115415187f37427146d1360cd2b}\label{ltr390uv_8c_a89c8e115415187f37427146d1360cd2b} 
\#define {\bfseries LTR390\+UV\+\_\+\+REG\+\_\+\+ALS\+\_\+\+UVS\+\_\+\+MEAS\+\_\+\+RW}~UINT8\+\_\+C(0x04)
\item 
\Hypertarget{ltr390uv_8c_af69fbf3545f38a41147f8188d2d64c9c}\label{ltr390uv_8c_af69fbf3545f38a41147f8188d2d64c9c} 
\#define {\bfseries LTR390\+UV\+\_\+\+REG\+\_\+\+ALS\+\_\+\+UVS\+\_\+\+GAIN\+\_\+\+RW}~UINT8\+\_\+C(0x05)
\item 
\Hypertarget{ltr390uv_8c_af8e36a84221286e3dc3953fc24d398e6}\label{ltr390uv_8c_af8e36a84221286e3dc3953fc24d398e6} 
\#define {\bfseries LTR390\+UV\+\_\+\+REG\+\_\+\+PART\+\_\+\+ID\+\_\+R}~UINT8\+\_\+C(0x06)
\item 
\Hypertarget{ltr390uv_8c_acb835c69e103ad874267f6186e8761ef}\label{ltr390uv_8c_acb835c69e103ad874267f6186e8761ef} 
\#define {\bfseries LTR390\+UV\+\_\+\+REG\+\_\+\+MAIN\+\_\+\+STS\+\_\+R}~UINT8\+\_\+C(0x07)
\item 
\Hypertarget{ltr390uv_8c_a74283ce6087e637040a0a5b1823ffd60}\label{ltr390uv_8c_a74283ce6087e637040a0a5b1823ffd60} 
\#define {\bfseries LTR390\+UV\+\_\+\+REG\+\_\+\+ALS\+\_\+\+DATA\+\_\+0\+\_\+R}~UINT8\+\_\+C(0x0D) /\texorpdfstring{$\ast$}{*} LSB \texorpdfstring{$\ast$}{*}/
\item 
\Hypertarget{ltr390uv_8c_a771526d3f26ec317729485de400d70fc}\label{ltr390uv_8c_a771526d3f26ec317729485de400d70fc} 
\#define {\bfseries LTR390\+UV\+\_\+\+REG\+\_\+\+ALS\+\_\+\+DATA\+\_\+1\+\_\+R}~UINT8\+\_\+C(0x0E)
\item 
\Hypertarget{ltr390uv_8c_a212a6707d8dd5708da0a2f17e75a6c9a}\label{ltr390uv_8c_a212a6707d8dd5708da0a2f17e75a6c9a} 
\#define {\bfseries LTR390\+UV\+\_\+\+REG\+\_\+\+ALS\+\_\+\+DATA\+\_\+2\+\_\+R}~UINT8\+\_\+C(0x0F) /\texorpdfstring{$\ast$}{*} MSB \texorpdfstring{$\ast$}{*}/
\item 
\Hypertarget{ltr390uv_8c_ac9c3e440da1fbfd1afa4bbfa2fb0252a}\label{ltr390uv_8c_ac9c3e440da1fbfd1afa4bbfa2fb0252a} 
\#define {\bfseries LTR390\+UV\+\_\+\+REG\+\_\+\+UVS\+\_\+\+DATA\+\_\+0\+\_\+R}~UINT8\+\_\+C(0x10) /\texorpdfstring{$\ast$}{*} LSB \texorpdfstring{$\ast$}{*}/
\item 
\Hypertarget{ltr390uv_8c_a3f1da147b1e81b81d8c171cf62dbaa18}\label{ltr390uv_8c_a3f1da147b1e81b81d8c171cf62dbaa18} 
\#define {\bfseries LTR390\+UV\+\_\+\+REG\+\_\+\+UVS\+\_\+\+DATA\+\_\+1\+\_\+R}~UINT8\+\_\+C(0x11)
\item 
\Hypertarget{ltr390uv_8c_a6644e0a2a5c23e1d5434a4c46f7725ec}\label{ltr390uv_8c_a6644e0a2a5c23e1d5434a4c46f7725ec} 
\#define {\bfseries LTR390\+UV\+\_\+\+REG\+\_\+\+UVS\+\_\+\+DATA\+\_\+2\+\_\+R}~UINT8\+\_\+C(0x12) /\texorpdfstring{$\ast$}{*} MSB \texorpdfstring{$\ast$}{*}/
\item 
\Hypertarget{ltr390uv_8c_a983f4000677845426e2fb15e2aea041f}\label{ltr390uv_8c_a983f4000677845426e2fb15e2aea041f} 
\#define {\bfseries LTR390\+UV\+\_\+\+REG\+\_\+\+INT\+\_\+\+CFG\+\_\+\+RW}~UINT8\+\_\+C(0x19)
\item 
\Hypertarget{ltr390uv_8c_ab8833e04331d1e45c5c6d87bc194b7fe}\label{ltr390uv_8c_ab8833e04331d1e45c5c6d87bc194b7fe} 
\#define {\bfseries LTR390\+UV\+\_\+\+REG\+\_\+\+INT\+\_\+\+PST\+\_\+\+RW}~UINT8\+\_\+C(0x1A)
\item 
\Hypertarget{ltr390uv_8c_af241e3b81b73bc46180684caccc70be2}\label{ltr390uv_8c_af241e3b81b73bc46180684caccc70be2} 
\#define {\bfseries LTR390\+UV\+\_\+\+REG\+\_\+\+ALS\+\_\+\+THRES\+\_\+\+UP\+\_\+0\+\_\+\+RW}~UINT8\+\_\+C(0x21) /\texorpdfstring{$\ast$}{*} LSB \texorpdfstring{$\ast$}{*}/
\item 
\Hypertarget{ltr390uv_8c_a35623e96f0107f62258a19299a416268}\label{ltr390uv_8c_a35623e96f0107f62258a19299a416268} 
\#define {\bfseries LTR390\+UV\+\_\+\+REG\+\_\+\+ALS\+\_\+\+THRES\+\_\+\+UP\+\_\+1\+\_\+\+RW}~UINT8\+\_\+C(0x22)
\item 
\Hypertarget{ltr390uv_8c_a7d9ccb259711aa3d8c9b37c81bfc465e}\label{ltr390uv_8c_a7d9ccb259711aa3d8c9b37c81bfc465e} 
\#define {\bfseries LTR390\+UV\+\_\+\+REG\+\_\+\+ALS\+\_\+\+THRES\+\_\+\+UP\+\_\+2\+\_\+\+RW}~UINT8\+\_\+C(0x23) /\texorpdfstring{$\ast$}{*} MSB \texorpdfstring{$\ast$}{*}/
\item 
\Hypertarget{ltr390uv_8c_aaacbb263af65326ad952445b0532cfec}\label{ltr390uv_8c_aaacbb263af65326ad952445b0532cfec} 
\#define {\bfseries LTR390\+UV\+\_\+\+REG\+\_\+\+ALS\+\_\+\+THRES\+\_\+\+LO\+\_\+0\+\_\+\+RW}~UINT8\+\_\+C(0x24) /\texorpdfstring{$\ast$}{*} LSB \texorpdfstring{$\ast$}{*}/
\item 
\Hypertarget{ltr390uv_8c_a62a7a8b378a3f8b424827378a4baf3c0}\label{ltr390uv_8c_a62a7a8b378a3f8b424827378a4baf3c0} 
\#define {\bfseries LTR390\+UV\+\_\+\+REG\+\_\+\+ALS\+\_\+\+THRES\+\_\+\+LO\+\_\+1\+\_\+\+RW}~UINT8\+\_\+C(0x25)
\item 
\Hypertarget{ltr390uv_8c_a865af6daf5e82260424347a5175aefbb}\label{ltr390uv_8c_a865af6daf5e82260424347a5175aefbb} 
\#define {\bfseries LTR390\+UV\+\_\+\+REG\+\_\+\+ALS\+\_\+\+THRES\+\_\+\+LO\+\_\+2\+\_\+\+RW}~UINT8\+\_\+C(0x26) /\texorpdfstring{$\ast$}{*} MSB \texorpdfstring{$\ast$}{*}/
\item 
\Hypertarget{ltr390uv_8c_a345eb8b2aee8f9f17932bac8fd33c545}\label{ltr390uv_8c_a345eb8b2aee8f9f17932bac8fd33c545} 
\#define {\bfseries LTR390\+UV\+\_\+\+SENSITIVITY\+\_\+\+MAX}~(2300.\+0f)       /\texorpdfstring{$\ast$}{*} see datasheet, section 4.\+5 \texorpdfstring{$\ast$}{*}/
\item 
\Hypertarget{ltr390uv_8c_a35bba2dd756fdbad78154ac2b40dd436}\label{ltr390uv_8c_a35bba2dd756fdbad78154ac2b40dd436} 
\#define {\bfseries LTR390\+UV\+\_\+\+INTEGRATION\+\_\+\+TIME\+\_\+\+MAX}~(4.\+0f \texorpdfstring{$\ast$}{*} 100.\+0f) /\texorpdfstring{$\ast$}{*} I2\+C\+\_\+\+LTR390\+UV\+\_\+\+SR\+\_\+20\+BIT \texorpdfstring{$\ast$}{*}/
\item 
\Hypertarget{ltr390uv_8c_a3c4a94bacf30cb8eaddd99a57b3aa433}\label{ltr390uv_8c_a3c4a94bacf30cb8eaddd99a57b3aa433} 
\#define {\bfseries LTR390\+UV\+\_\+\+GAIN\+\_\+\+MAX}~(18.\+0f)         /\texorpdfstring{$\ast$}{*} I2\+C\+\_\+\+LTR390\+UV\+\_\+\+MG\+\_\+\+X18 \texorpdfstring{$\ast$}{*}/
\item 
\Hypertarget{ltr390uv_8c_aa95e6e8d9e6645cc88a827fd0b293d09}\label{ltr390uv_8c_aa95e6e8d9e6645cc88a827fd0b293d09} 
\#define {\bfseries LTR390\+UV\+\_\+\+DATA\+\_\+\+POLL\+\_\+\+TIMEOUT\+\_\+\+MS}~UINT16\+\_\+C(500)
\item 
\Hypertarget{ltr390uv_8c_af0ce19d17564600bfecfba54910ae5d9}\label{ltr390uv_8c_af0ce19d17564600bfecfba54910ae5d9} 
\#define {\bfseries LTR390\+UV\+\_\+\+DATA\+\_\+\+READY\+\_\+\+DELAY\+\_\+\+MS}~UINT16\+\_\+C(2)
\item 
\Hypertarget{ltr390uv_8c_a235fb816a448344faa3650bde58071f7}\label{ltr390uv_8c_a235fb816a448344faa3650bde58071f7} 
\#define {\bfseries LTR390\+UV\+\_\+\+POWERUP\+\_\+\+DELAY\+\_\+\+MS}~UINT16\+\_\+C(120)
\item 
\Hypertarget{ltr390uv_8c_a45541a00493aa7aad127e8f0ddfce6c1}\label{ltr390uv_8c_a45541a00493aa7aad127e8f0ddfce6c1} 
\#define {\bfseries LTR390\+UV\+\_\+\+RESET\+\_\+\+DELAY\+\_\+\+MS}~UINT16\+\_\+C(25)
\item 
\Hypertarget{ltr390uv_8c_a4692ecff0c5af746cc85214104b61b57}\label{ltr390uv_8c_a4692ecff0c5af746cc85214104b61b57} 
\#define {\bfseries LTR390\+UV\+\_\+\+WAKEUP\+\_\+\+DELAY\+\_\+\+MS}~UINT16\+\_\+C(15)
\item 
\#define \mbox{\hyperlink{ltr390uv_8c_ae820d6fc5c55760096f3689e6351bc49}{LTR390\+UV\+\_\+\+APPSTART\+\_\+\+DELAY\+\_\+\+MS}}~UINT16\+\_\+C(10)
\item 
\#define \mbox{\hyperlink{ltr390uv_8c_aa899c927f034273270baddd7b781c76f}{LTR390\+UV\+\_\+\+CMD\+\_\+\+DELAY\+\_\+\+MS}}~UINT16\+\_\+C(5)
\item 
\#define \mbox{\hyperlink{ltr390uv_8c_aa0c45fa8613a9c5b280803942f031727}{LTR390\+UV\+\_\+\+TX\+\_\+\+RX\+\_\+\+DELAY\+\_\+\+MS}}~UINT16\+\_\+C(10)
\item 
\#define \mbox{\hyperlink{ltr390uv_8c_aee7b193fcb571e0c3bc88c29f1662af4}{ESP\+\_\+\+TIMEOUT\+\_\+\+CHECK}}(start,  len)
\item 
\#define \mbox{\hyperlink{ltr390uv_8c_ac2bb3db0b37c9f45103fd513ca5158fe}{ESP\+\_\+\+ARG\+\_\+\+CHECK}}(VAL)
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_gad612f2f8f8c797f9d002b6e3dc8a54dd}{ltr390uv\+\_\+get\+\_\+control\+\_\+register}} (\mbox{\hyperlink{group__drivers_ga4360ca0586c82540265c60066087511e}{ltr390uv\+\_\+handle\+\_\+t}} handle, ltr390uv\+\_\+control\+\_\+register\+\_\+t \texorpdfstring{$\ast$}{*}const reg)
\begin{DoxyCompactList}\small\item\em Reads control register from LTR390\+UV. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_gac0494e267ae62a0c3948d245b345b303}{ltr390uv\+\_\+set\+\_\+control\+\_\+register}} (\mbox{\hyperlink{group__drivers_ga4360ca0586c82540265c60066087511e}{ltr390uv\+\_\+handle\+\_\+t}} handle, const ltr390uv\+\_\+control\+\_\+register\+\_\+t reg)
\begin{DoxyCompactList}\small\item\em Writes control register to LTR390\+UV. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_gacc958f4ef325bd874f9702ca6c893cdb}{ltr390uv\+\_\+get\+\_\+measure\+\_\+register}} (\mbox{\hyperlink{group__drivers_ga4360ca0586c82540265c60066087511e}{ltr390uv\+\_\+handle\+\_\+t}} handle, ltr390uv\+\_\+measure\+\_\+register\+\_\+t \texorpdfstring{$\ast$}{*}const reg)
\begin{DoxyCompactList}\small\item\em Reads ALS UVS measure register from LTR390\+UV. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga47bfc017c50af702d0ff0e22ef19d7c8}{ltr390uv\+\_\+set\+\_\+measure\+\_\+register}} (\mbox{\hyperlink{group__drivers_ga4360ca0586c82540265c60066087511e}{ltr390uv\+\_\+handle\+\_\+t}} handle, const ltr390uv\+\_\+measure\+\_\+register\+\_\+t reg)
\begin{DoxyCompactList}\small\item\em Writes ALS UVS measure register to LTR390\+UV. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga5c593c30d2be1fcdc4b0193b18efddd5}{ltr390uv\+\_\+get\+\_\+gain\+\_\+register}} (\mbox{\hyperlink{group__drivers_ga4360ca0586c82540265c60066087511e}{ltr390uv\+\_\+handle\+\_\+t}} handle, ltr390uv\+\_\+gain\+\_\+register\+\_\+t \texorpdfstring{$\ast$}{*}const reg)
\begin{DoxyCompactList}\small\item\em Reads ALS UVS gain register from LTR390\+UV. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga7227b636c5307b20783c53f0efdc9706}{ltr390uv\+\_\+set\+\_\+gain\+\_\+register}} (\mbox{\hyperlink{group__drivers_ga4360ca0586c82540265c60066087511e}{ltr390uv\+\_\+handle\+\_\+t}} handle, const ltr390uv\+\_\+gain\+\_\+register\+\_\+t reg)
\begin{DoxyCompactList}\small\item\em Writes ALS UVS gain register to LTR390\+UV. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga10311c032bccc9a49abc6f049fe3464d}{ltr390uv\+\_\+get\+\_\+interrupt\+\_\+config\+\_\+register}} (\mbox{\hyperlink{group__drivers_ga4360ca0586c82540265c60066087511e}{ltr390uv\+\_\+handle\+\_\+t}} handle, ltr390uv\+\_\+interrupt\+\_\+config\+\_\+register\+\_\+t \texorpdfstring{$\ast$}{*}const reg)
\begin{DoxyCompactList}\small\item\em Reads interrupt configuration register from LTR390\+UV. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_gaa965f69c97d6c971a1b3510216932d8b}{ltr390uv\+\_\+set\+\_\+interrupt\+\_\+config\+\_\+register}} (\mbox{\hyperlink{group__drivers_ga4360ca0586c82540265c60066087511e}{ltr390uv\+\_\+handle\+\_\+t}} handle, const ltr390uv\+\_\+interrupt\+\_\+config\+\_\+register\+\_\+t reg)
\begin{DoxyCompactList}\small\item\em Writes interrupt configuration register to LTR390\+UV. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga601627edb8862d78f23b4684b7d65a96}{ltr390uv\+\_\+get\+\_\+status\+\_\+register}} (\mbox{\hyperlink{group__drivers_ga4360ca0586c82540265c60066087511e}{ltr390uv\+\_\+handle\+\_\+t}} handle, ltr390uv\+\_\+status\+\_\+register\+\_\+t \texorpdfstring{$\ast$}{*}const reg)
\begin{DoxyCompactList}\small\item\em Reads status register from LTR390\+UV. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_gaca0f1260d725e30226bd641e95c5380d}{ltr390uv\+\_\+init}} (i2c\+\_\+master\+\_\+bus\+\_\+handle\+\_\+t master\+\_\+handle, const \mbox{\hyperlink{group__drivers_gaf416c36c716812bdd1e7270f706cb3b9}{ltr390uv\+\_\+config\+\_\+t}} \texorpdfstring{$\ast$}{*}ltr390uv\+\_\+config, \mbox{\hyperlink{group__drivers_ga4360ca0586c82540265c60066087511e}{ltr390uv\+\_\+handle\+\_\+t}} \texorpdfstring{$\ast$}{*}ltr390uv\+\_\+handle)
\begin{DoxyCompactList}\small\item\em Initializes an LTR390\+UV device onto the I2C master bus. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga6be0f845cc58c39af3a5dc8b72d0e9c9}{ltr390uv\+\_\+get\+\_\+ambient\+\_\+light}} (\mbox{\hyperlink{group__drivers_ga4360ca0586c82540265c60066087511e}{ltr390uv\+\_\+handle\+\_\+t}} handle, float \texorpdfstring{$\ast$}{*}const ambient\+\_\+light)
\begin{DoxyCompactList}\small\item\em Reads ambient light from LTR390\+UV. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga4b7c910399e3431019b597fd0d45cf30}{ltr390uv\+\_\+get\+\_\+als}} (\mbox{\hyperlink{group__drivers_ga4360ca0586c82540265c60066087511e}{ltr390uv\+\_\+handle\+\_\+t}} handle, uint32\+\_\+t \texorpdfstring{$\ast$}{*}const sensor\+\_\+counts)
\begin{DoxyCompactList}\small\item\em Reads ALS sensor counts from LTR390\+UV. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga37cfe17d6ce9b51cef382487f7503591}{ltr390uv\+\_\+get\+\_\+ultraviolet\+\_\+index}} (\mbox{\hyperlink{group__drivers_ga4360ca0586c82540265c60066087511e}{ltr390uv\+\_\+handle\+\_\+t}} handle, float \texorpdfstring{$\ast$}{*}const ultraviolet\+\_\+index)
\begin{DoxyCompactList}\small\item\em Reads ultraviolet index (UVI) from LTR390\+UV. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga3e70b7975863bf9a5e294cc490b1d37e}{ltr390uv\+\_\+get\+\_\+uvs}} (\mbox{\hyperlink{group__drivers_ga4360ca0586c82540265c60066087511e}{ltr390uv\+\_\+handle\+\_\+t}} handle, uint32\+\_\+t \texorpdfstring{$\ast$}{*}const sensor\+\_\+counts)
\begin{DoxyCompactList}\small\item\em Reads UVS sensor counts from LTR390\+UV. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_gaaff5001d256a0c6d80f239ba8233b0c6}{ltr390uv\+\_\+get\+\_\+data\+\_\+status}} (\mbox{\hyperlink{group__drivers_ga4360ca0586c82540265c60066087511e}{ltr390uv\+\_\+handle\+\_\+t}} handle, bool \texorpdfstring{$\ast$}{*}const ready)
\begin{DoxyCompactList}\small\item\em Reads data ready status flag from LTR390\+UV. This flag is cleared after the register is read. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga2ade1d3649967582c92e13e6637356dc}{ltr390uv\+\_\+get\+\_\+power\+\_\+status}} (\mbox{\hyperlink{group__drivers_ga4360ca0586c82540265c60066087511e}{ltr390uv\+\_\+handle\+\_\+t}} handle, bool \texorpdfstring{$\ast$}{*}const power\+\_\+on)
\begin{DoxyCompactList}\small\item\em Reads power status flag from LTR390\+UV. This flag is cleared after the register is read. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga5aa449f0c1fb00d41c6ad0818898f1cc}{ltr390uv\+\_\+get\+\_\+interrupt\+\_\+status}} (\mbox{\hyperlink{group__drivers_ga4360ca0586c82540265c60066087511e}{ltr390uv\+\_\+handle\+\_\+t}} handle, bool \texorpdfstring{$\ast$}{*}const interrupt)
\begin{DoxyCompactList}\small\item\em Reads interrupt status flag from LTR390\+UV. This flag is cleared after the register is read. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga98d8f937cb1a1e5298ecab25d3ac0595}{ltr390uv\+\_\+get\+\_\+status}} (\mbox{\hyperlink{group__drivers_ga4360ca0586c82540265c60066087511e}{ltr390uv\+\_\+handle\+\_\+t}} handle, bool \texorpdfstring{$\ast$}{*}const data\+\_\+ready, bool \texorpdfstring{$\ast$}{*}const power\+\_\+on, bool \texorpdfstring{$\ast$}{*}const interrupt)
\begin{DoxyCompactList}\small\item\em Reads interrupt status flags from LTR390\+UV. The flags are cleared after the register is read. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_gaaaeffb67586571b4e99fdabd13694687}{ltr390uv\+\_\+get\+\_\+thresholds}} (\mbox{\hyperlink{group__drivers_ga4360ca0586c82540265c60066087511e}{ltr390uv\+\_\+handle\+\_\+t}} handle, uint32\+\_\+t \texorpdfstring{$\ast$}{*}const lower\+\_\+threshold, uint32\+\_\+t \texorpdfstring{$\ast$}{*}const upper\+\_\+threshold)
\begin{DoxyCompactList}\small\item\em Reads UVS/\+ALS lower and upper thresholds from LTR390\+UV. The thresholds are used to trigger an interrupt when the light level exceeds the upper threshold or falls below the lower threshold. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga43ea13bbde83424a4aa5b4cb07a2936a}{ltr390uv\+\_\+set\+\_\+thresholds}} (\mbox{\hyperlink{group__drivers_ga4360ca0586c82540265c60066087511e}{ltr390uv\+\_\+handle\+\_\+t}} handle, const uint32\+\_\+t lower\+\_\+threshold, const uint32\+\_\+t upper\+\_\+threshold)
\begin{DoxyCompactList}\small\item\em Writes UVS/\+ALS lower and upper thresholds to LTR390\+UV. The thresholds are used to trigger an interrupt when the light level exceeds the upper threshold or falls below the lower threshold. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_gad4cbfed1efbfb51fc251c268ba5eaacf}{ltr390uv\+\_\+get\+\_\+mode}} (\mbox{\hyperlink{group__drivers_ga4360ca0586c82540265c60066087511e}{ltr390uv\+\_\+handle\+\_\+t}} handle, \mbox{\hyperlink{group__drivers_ga6e86bca5a4b2cc0f14a16764864b3210}{ltr390uv\+\_\+operation\+\_\+modes\+\_\+t}} \texorpdfstring{$\ast$}{*}const mode)
\begin{DoxyCompactList}\small\item\em Reads operation mode from LTR390\+UV. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_gaa01aab8f256f1b2fc5af7d34c5740301}{ltr390uv\+\_\+set\+\_\+mode}} (\mbox{\hyperlink{group__drivers_ga4360ca0586c82540265c60066087511e}{ltr390uv\+\_\+handle\+\_\+t}} handle, const \mbox{\hyperlink{group__drivers_ga6e86bca5a4b2cc0f14a16764864b3210}{ltr390uv\+\_\+operation\+\_\+modes\+\_\+t}} mode)
\begin{DoxyCompactList}\small\item\em Writes operation mode to LTR390\+UV. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_gac68b5ed78cf318911dcdf0b026527303}{ltr390uv\+\_\+get\+\_\+resolution}} (\mbox{\hyperlink{group__drivers_ga4360ca0586c82540265c60066087511e}{ltr390uv\+\_\+handle\+\_\+t}} handle, \mbox{\hyperlink{group__drivers_gaa32e4995981a20b7d75b408afb944741}{ltr390uv\+\_\+sensor\+\_\+resolutions\+\_\+t}} \texorpdfstring{$\ast$}{*}const resolution)
\begin{DoxyCompactList}\small\item\em Reads sensor resolution from LTR390\+UV. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_gaef083847dd589e9f296a76e59ef4bdd7}{ltr390uv\+\_\+set\+\_\+resolution}} (\mbox{\hyperlink{group__drivers_ga4360ca0586c82540265c60066087511e}{ltr390uv\+\_\+handle\+\_\+t}} handle, const \mbox{\hyperlink{group__drivers_gaa32e4995981a20b7d75b408afb944741}{ltr390uv\+\_\+sensor\+\_\+resolutions\+\_\+t}} resolution)
\begin{DoxyCompactList}\small\item\em Writes sensor resolution to LTR390\+UV. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga3af2d48c617b9d417d474d28e4d3d82d}{ltr390uv\+\_\+get\+\_\+gain}} (\mbox{\hyperlink{group__drivers_ga4360ca0586c82540265c60066087511e}{ltr390uv\+\_\+handle\+\_\+t}} handle, \mbox{\hyperlink{group__drivers_ga7827e02d5538c097a4df71803ebd364d}{ltr390uv\+\_\+measurement\+\_\+gains\+\_\+t}} \texorpdfstring{$\ast$}{*}const gain)
\begin{DoxyCompactList}\small\item\em Reads measurement gain from LTR390\+UV. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_gab51515783d70dda13e498cea6e4fd768}{ltr390uv\+\_\+set\+\_\+gain}} (\mbox{\hyperlink{group__drivers_ga4360ca0586c82540265c60066087511e}{ltr390uv\+\_\+handle\+\_\+t}} handle, const \mbox{\hyperlink{group__drivers_ga7827e02d5538c097a4df71803ebd364d}{ltr390uv\+\_\+measurement\+\_\+gains\+\_\+t}} gain)
\begin{DoxyCompactList}\small\item\em Writes measurement gain to LTR390\+UV. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga8b3edb42cfb4fab8bff820816444be68}{ltr390uv\+\_\+get\+\_\+rate}} (\mbox{\hyperlink{group__drivers_ga4360ca0586c82540265c60066087511e}{ltr390uv\+\_\+handle\+\_\+t}} handle, \mbox{\hyperlink{group__drivers_ga42a99fe430350963604a513012dcc091}{ltr390uv\+\_\+measurement\+\_\+rates\+\_\+t}} \texorpdfstring{$\ast$}{*}const rate)
\begin{DoxyCompactList}\small\item\em Reads measurement rate from LTR390\+UV. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga9458fd633e88bc596d01ba14aa05fe2b}{ltr390uv\+\_\+set\+\_\+rate}} (\mbox{\hyperlink{group__drivers_ga4360ca0586c82540265c60066087511e}{ltr390uv\+\_\+handle\+\_\+t}} handle, const \mbox{\hyperlink{group__drivers_ga42a99fe430350963604a513012dcc091}{ltr390uv\+\_\+measurement\+\_\+rates\+\_\+t}} rate)
\begin{DoxyCompactList}\small\item\em Writes measurement rate to LTR390\+UV. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga2f664dd2c6ae4e8f8431e6a7f8d42c2b}{ltr390uv\+\_\+enable\+\_\+interrupt}} (\mbox{\hyperlink{group__drivers_ga4360ca0586c82540265c60066087511e}{ltr390uv\+\_\+handle\+\_\+t}} handle, const \mbox{\hyperlink{group__drivers_gac6c810ae7af3a884575208f8cacdcd63}{ltr390uv\+\_\+ls\+\_\+interrupts\+\_\+t}} light\+\_\+source)
\begin{DoxyCompactList}\small\item\em Enables LTR390\+UV interrupts. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_gaa0d7c3bf19ec61e3025eafd54faf5a47}{ltr390uv\+\_\+disable\+\_\+interrupt}} (\mbox{\hyperlink{group__drivers_ga4360ca0586c82540265c60066087511e}{ltr390uv\+\_\+handle\+\_\+t}} handle)
\begin{DoxyCompactList}\small\item\em Disables LTR390\+UV interrupts. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_gae8d762d3f6c054d85033e74bbc46cdbd}{ltr390uv\+\_\+enable}} (\mbox{\hyperlink{group__drivers_ga4360ca0586c82540265c60066087511e}{ltr390uv\+\_\+handle\+\_\+t}} handle)
\begin{DoxyCompactList}\small\item\em Activates LTR390\+UV for measurements. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga5c02d80cbbe7ad19c6fea392c817d97b}{ltr390uv\+\_\+disable}} (\mbox{\hyperlink{group__drivers_ga4360ca0586c82540265c60066087511e}{ltr390uv\+\_\+handle\+\_\+t}} handle)
\begin{DoxyCompactList}\small\item\em Places LTR390\+UV on standby (default). \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_gafdffb7c442c06c3b88e65e0349e97bf4}{ltr390uv\+\_\+reset}} (\mbox{\hyperlink{group__drivers_ga4360ca0586c82540265c60066087511e}{ltr390uv\+\_\+handle\+\_\+t}} handle)
\begin{DoxyCompactList}\small\item\em Issues soft-\/reset and initializes LTR390\+UV. See datasheet for details. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga06fc74abcee2dbd2f8404b62753671a1}{ltr390uv\+\_\+remove}} (\mbox{\hyperlink{group__drivers_ga4360ca0586c82540265c60066087511e}{ltr390uv\+\_\+handle\+\_\+t}} handle)
\begin{DoxyCompactList}\small\item\em Removes an LTR390\+UV device from master bus. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_gaad93eb9b72715bcfa3801b3dab58bcab}{ltr390uv\+\_\+delete}} (\mbox{\hyperlink{group__drivers_ga4360ca0586c82540265c60066087511e}{ltr390uv\+\_\+handle\+\_\+t}} handle)
\begin{DoxyCompactList}\small\item\em Removes an LTR390\+UV device from master bus and frees handle. \end{DoxyCompactList}\item 
const char \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{group__drivers_ga072565b4ede742acda6d59c82c0b2a72}{ltr390uv\+\_\+get\+\_\+fw\+\_\+version}} (void)
\begin{DoxyCompactList}\small\item\em Converts LTR390\+UV firmware version numbers (major, minor, patch) into a string. \end{DoxyCompactList}\item 
int32\+\_\+t \mbox{\hyperlink{group__drivers_ga363ae299a852f2f82dc5141a88a37fc9}{ltr390uv\+\_\+get\+\_\+fw\+\_\+version\+\_\+number}} (void)
\begin{DoxyCompactList}\small\item\em Converts LTR390\+UV firmware version numbers (major, minor, patch) into an integer value. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
ESP-\/\+IDF driver for LTR390\+UV sensor

Ported from esp-\/open-\/rtos

Copyright (c) 2024 Eric Gionet (\href{mailto:gionet.c.eric@gmail.com}{\texttt{ gionet.\+c.\+eric@gmail.\+com}})

MIT Licensed as described in the file LICENSE 

\doxysubsection{Macro Definition Documentation}
\Hypertarget{ltr390uv_8c_ac2bb3db0b37c9f45103fd513ca5158fe}\index{ltr390uv.c@{ltr390uv.c}!ESP\_ARG\_CHECK@{ESP\_ARG\_CHECK}}
\index{ESP\_ARG\_CHECK@{ESP\_ARG\_CHECK}!ltr390uv.c@{ltr390uv.c}}
\doxysubsubsection{\texorpdfstring{ESP\_ARG\_CHECK}{ESP\_ARG\_CHECK}}
{\footnotesize\ttfamily \label{ltr390uv_8c_ac2bb3db0b37c9f45103fd513ca5158fe} 
\#define ESP\+\_\+\+ARG\+\_\+\+CHECK(\begin{DoxyParamCaption}\item[{}]{VAL}{}\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordflow}{do}\ \{\ \textcolor{keywordflow}{if}\ (!(VAL))\ \textcolor{keywordflow}{return}\ ESP\_ERR\_INVALID\_ARG;\ \}\ \textcolor{keywordflow}{while}\ (0)}

\end{DoxyCode}
\Hypertarget{ltr390uv_8c_aee7b193fcb571e0c3bc88c29f1662af4}\index{ltr390uv.c@{ltr390uv.c}!ESP\_TIMEOUT\_CHECK@{ESP\_TIMEOUT\_CHECK}}
\index{ESP\_TIMEOUT\_CHECK@{ESP\_TIMEOUT\_CHECK}!ltr390uv.c@{ltr390uv.c}}
\doxysubsubsection{\texorpdfstring{ESP\_TIMEOUT\_CHECK}{ESP\_TIMEOUT\_CHECK}}
{\footnotesize\ttfamily \label{ltr390uv_8c_aee7b193fcb571e0c3bc88c29f1662af4} 
\#define ESP\+\_\+\+TIMEOUT\+\_\+\+CHECK(\begin{DoxyParamCaption}\item[{}]{start}{, }\item[{}]{len}{}\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{((uint64\_t)(esp\_timer\_get\_time()\ -\/\ (start))\ >=\ (len))}

\end{DoxyCode}
\Hypertarget{ltr390uv_8c_ae820d6fc5c55760096f3689e6351bc49}\index{ltr390uv.c@{ltr390uv.c}!LTR390UV\_APPSTART\_DELAY\_MS@{LTR390UV\_APPSTART\_DELAY\_MS}}
\index{LTR390UV\_APPSTART\_DELAY\_MS@{LTR390UV\_APPSTART\_DELAY\_MS}!ltr390uv.c@{ltr390uv.c}}
\doxysubsubsection{\texorpdfstring{LTR390UV\_APPSTART\_DELAY\_MS}{LTR390UV\_APPSTART\_DELAY\_MS}}
{\footnotesize\ttfamily \label{ltr390uv_8c_ae820d6fc5c55760096f3689e6351bc49} 
\#define LTR390\+UV\+\_\+\+APPSTART\+\_\+\+DELAY\+\_\+\+MS~UINT16\+\_\+C(10)}

ltr390uv delay after initialization before application start-\/up \Hypertarget{ltr390uv_8c_aa899c927f034273270baddd7b781c76f}\index{ltr390uv.c@{ltr390uv.c}!LTR390UV\_CMD\_DELAY\_MS@{LTR390UV\_CMD\_DELAY\_MS}}
\index{LTR390UV\_CMD\_DELAY\_MS@{LTR390UV\_CMD\_DELAY\_MS}!ltr390uv.c@{ltr390uv.c}}
\doxysubsubsection{\texorpdfstring{LTR390UV\_CMD\_DELAY\_MS}{LTR390UV\_CMD\_DELAY\_MS}}
{\footnotesize\ttfamily \label{ltr390uv_8c_aa899c927f034273270baddd7b781c76f} 
\#define LTR390\+UV\+\_\+\+CMD\+\_\+\+DELAY\+\_\+\+MS~UINT16\+\_\+C(5)}

ltr390uv delay before attempting I2C transactions after a command is issued \Hypertarget{ltr390uv_8c_aa0c45fa8613a9c5b280803942f031727}\index{ltr390uv.c@{ltr390uv.c}!LTR390UV\_TX\_RX\_DELAY\_MS@{LTR390UV\_TX\_RX\_DELAY\_MS}}
\index{LTR390UV\_TX\_RX\_DELAY\_MS@{LTR390UV\_TX\_RX\_DELAY\_MS}!ltr390uv.c@{ltr390uv.c}}
\doxysubsubsection{\texorpdfstring{LTR390UV\_TX\_RX\_DELAY\_MS}{LTR390UV\_TX\_RX\_DELAY\_MS}}
{\footnotesize\ttfamily \label{ltr390uv_8c_aa0c45fa8613a9c5b280803942f031727} 
\#define LTR390\+UV\+\_\+\+TX\+\_\+\+RX\+\_\+\+DELAY\+\_\+\+MS~UINT16\+\_\+C(10)}

ltr390uv delay after attempting an I2C transmit transaction and attempting an I2C receive transaction 