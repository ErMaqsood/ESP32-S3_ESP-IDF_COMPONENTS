\doxysection{components/peripherals/i2c/esp\+\_\+as3935/as3935.c File Reference}
\hypertarget{as3935_8c}{}\label{as3935_8c}\index{components/peripherals/i2c/esp\_as3935/as3935.c@{components/peripherals/i2c/esp\_as3935/as3935.c}}
{\ttfamily \#include "{}include/as3935.\+h"{}}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$math.\+h$>$}\newline
{\ttfamily \#include $<$esp\+\_\+log.\+h$>$}\newline
{\ttfamily \#include $<$esp\+\_\+check.\+h$>$}\newline
{\ttfamily \#include $<$driver/gpio.\+h$>$}\newline
{\ttfamily \#include $<$freertos/\+Free\+RTOS.\+h$>$}\newline
{\ttfamily \#include $<$freertos/task.\+h$>$}\newline
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{as3935_8c_adeff4753d03635710c990e4565a4321c}\label{as3935_8c_adeff4753d03635710c990e4565a4321c} 
\#define {\bfseries AS3935\+\_\+\+IRQ\+\_\+\+FLAG\+\_\+\+DEFAULT}~(0)
\begin{DoxyCompactList}\small\item\em AS3935 definitions. \end{DoxyCompactList}\item 
\Hypertarget{as3935_8c_a785792cc351e1c8e40471c1e727f65ca}\label{as3935_8c_a785792cc351e1c8e40471c1e727f65ca} 
\#define {\bfseries AS3935\+\_\+\+MUTEX\+\_\+\+WAIT\+\_\+\+TIME}~(50)
\item 
\Hypertarget{as3935_8c_a8f38e6bd4a119a6f384c4c26037c6069}\label{as3935_8c_a8f38e6bd4a119a6f384c4c26037c6069} 
\#define {\bfseries AS3935\+\_\+\+EVENT\+\_\+\+LOOP\+\_\+\+POOL\+\_\+\+DELAY\+\_\+\+MS}~(50)
\item 
\Hypertarget{as3935_8c_a9b6603f93e11a65dbf6c6f66e85e0b6e}\label{as3935_8c_a9b6603f93e11a65dbf6c6f66e85e0b6e} 
\#define {\bfseries AS3935\+\_\+\+EVENT\+\_\+\+LOOP\+\_\+\+POST\+\_\+\+DELAY\+\_\+\+MS}~(100)
\item 
\Hypertarget{as3935_8c_a80e6f52bfd7257b0c6103291ad346ae8}\label{as3935_8c_a80e6f52bfd7257b0c6103291ad346ae8} 
\#define {\bfseries AS3935\+\_\+\+EVENT\+\_\+\+LOOP\+\_\+\+QUEUE\+\_\+\+SIZE}~(16)
\item 
\Hypertarget{as3935_8c_a037e020de7ab0d839d8d2b244744fc3b}\label{as3935_8c_a037e020de7ab0d839d8d2b244744fc3b} 
\#define {\bfseries AS3935\+\_\+\+EVENT\+\_\+\+TASK\+\_\+\+NAME}~"{}as3935\+\_\+evt\+\_\+tsk"{}
\item 
\Hypertarget{as3935_8c_a8792fc278418f447d42b7c901808a7b0}\label{as3935_8c_a8792fc278418f447d42b7c901808a7b0} 
\#define {\bfseries AS3935\+\_\+\+EVENT\+\_\+\+TASK\+\_\+\+STACK\+\_\+\+SIZE}~(config\+MINIMAL\+\_\+\+STACK\+\_\+\+SIZE \texorpdfstring{$\ast$}{*} 5)
\item 
\Hypertarget{as3935_8c_a2b467239fa64c9e97df0a0c611154bcc}\label{as3935_8c_a2b467239fa64c9e97df0a0c611154bcc} 
\#define {\bfseries AS3935\+\_\+\+EVENT\+\_\+\+TASK\+\_\+\+PRIORITY}~(tsk\+IDLE\+\_\+\+PRIORITY + 6)
\item 
\#define \mbox{\hyperlink{as3935_8c_ac2bb3db0b37c9f45103fd513ca5158fe}{ESP\+\_\+\+ARG\+\_\+\+CHECK}}(VAL)
\item 
\#define \mbox{\hyperlink{as3935_8c_a8da118fb0f96f4c1839426c01c2e8f1f}{ENSURE\+\_\+\+TRUE}}(ACTION)
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{as3935_8c_a9f05605369cedb8d2b70750d9d9d853d}\label{as3935_8c_a9f05605369cedb8d2b70750d9d9d853d} 
{\bfseries ESP\+\_\+\+EVENT\+\_\+\+DEFINE\+\_\+\+BASE} (ESP\+\_\+\+AS3935\+\_\+\+EVENT)
\begin{DoxyCompactList}\small\item\em AS3935 monitor event base definition. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_gafad46afc4709cc67901aef0e43fbedae}{as3935\+\_\+monitor\+\_\+init}} (i2c\+\_\+master\+\_\+bus\+\_\+handle\+\_\+t master\+\_\+handle, const \mbox{\hyperlink{group__drivers_ga98b0fd83fb81dd7cbb6c853a260ac02a}{as3935\+\_\+config\+\_\+t}} \texorpdfstring{$\ast$}{*}as3935\+\_\+config, \mbox{\hyperlink{group__drivers_gae6862ac911069aff23cf8b3c4a847c4b}{as3935\+\_\+monitor\+\_\+handle\+\_\+t}} \texorpdfstring{$\ast$}{*}monitor\+\_\+handle)
\begin{DoxyCompactList}\small\item\em initialize AS3935 monitor instance. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_gaeeac1bbc5045b1f197a031c3d719fa66}{as3935\+\_\+monitor\+\_\+deinit}} (\mbox{\hyperlink{group__drivers_gae6862ac911069aff23cf8b3c4a847c4b}{as3935\+\_\+monitor\+\_\+handle\+\_\+t}} monitor\+\_\+handle)
\begin{DoxyCompactList}\small\item\em de-\/initialize AS3935 monitor instance. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga8957dca4e77b125bbc1113cf08af2e81}{as3935\+\_\+monitor\+\_\+add\+\_\+handler}} (\mbox{\hyperlink{group__drivers_gae6862ac911069aff23cf8b3c4a847c4b}{as3935\+\_\+monitor\+\_\+handle\+\_\+t}} monitor\+\_\+handle, esp\+\_\+event\+\_\+handler\+\_\+t event\+\_\+handler, void \texorpdfstring{$\ast$}{*}handler\+\_\+args)
\begin{DoxyCompactList}\small\item\em adds user defined event handler for AS3935 monitor. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga9f0d9a870178e86041fede8bfbfacb15}{as3935\+\_\+monitor\+\_\+remove\+\_\+handler}} (\mbox{\hyperlink{group__drivers_gae6862ac911069aff23cf8b3c4a847c4b}{as3935\+\_\+monitor\+\_\+handle\+\_\+t}} monitor\+\_\+handle, esp\+\_\+event\+\_\+handler\+\_\+t event\+\_\+handler)
\begin{DoxyCompactList}\small\item\em removes user defined event handler for AS3935 monitor. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_gab32c24e8ceaa2d86cc8da5c62f113d4e}{as3935\+\_\+get\+\_\+0x00\+\_\+register}} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle, as3935\+\_\+0x00\+\_\+register\+\_\+t \texorpdfstring{$\ast$}{*}const reg)
\begin{DoxyCompactList}\small\item\em gets 0x00 register from AS3935. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga731c715256dad2e877e4f5d9fb768e68}{as3935\+\_\+set\+\_\+0x00\+\_\+register}} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle, const as3935\+\_\+0x00\+\_\+register\+\_\+t reg)
\begin{DoxyCompactList}\small\item\em sets 0x00 register on AS3935. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga9e434db1d0462087408862479e7c7c64}{as3935\+\_\+get\+\_\+0x01\+\_\+register}} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle, as3935\+\_\+0x01\+\_\+register\+\_\+t \texorpdfstring{$\ast$}{*}const reg)
\begin{DoxyCompactList}\small\item\em gets 0x01 register from AS3935. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga4f198c6e45db92e4f08be3e8801b9bab}{as3935\+\_\+set\+\_\+0x01\+\_\+register}} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle, const as3935\+\_\+0x01\+\_\+register\+\_\+t reg)
\begin{DoxyCompactList}\small\item\em sets 0x01 register on AS3935. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_gaec8c0050e097fb618d98d89d016cf798}{as3935\+\_\+get\+\_\+0x02\+\_\+register}} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle, as3935\+\_\+0x02\+\_\+register\+\_\+t \texorpdfstring{$\ast$}{*}const reg)
\begin{DoxyCompactList}\small\item\em gets 0x02 register from AS3935. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga4767a3b6eb9f453845d413e135ef6bd8}{as3935\+\_\+set\+\_\+0x02\+\_\+register}} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle, const as3935\+\_\+0x02\+\_\+register\+\_\+t reg)
\begin{DoxyCompactList}\small\item\em sets 0x02 register on AS3935. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga0c9cad223c96fc423b6a1a4d27fef7a7}{as3935\+\_\+get\+\_\+0x03\+\_\+register}} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle, as3935\+\_\+0x03\+\_\+register\+\_\+t \texorpdfstring{$\ast$}{*}const reg)
\begin{DoxyCompactList}\small\item\em gets 0x03 register from AS3935. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga36acf74740637ff8e399ca17fec7aff6}{as3935\+\_\+set\+\_\+0x03\+\_\+register}} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle, const as3935\+\_\+0x03\+\_\+register\+\_\+t reg)
\begin{DoxyCompactList}\small\item\em sets 0x03 register on AS3935. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga52babc34222dd0e3ccc5e2f15c7f89ee}{as3935\+\_\+get\+\_\+0x08\+\_\+register}} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle, as3935\+\_\+0x08\+\_\+register\+\_\+t \texorpdfstring{$\ast$}{*}const reg)
\begin{DoxyCompactList}\small\item\em gets 0x08 register from AS3935. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_gadd253276514cfad1d16eec6fe41f3e22}{as3935\+\_\+set\+\_\+0x08\+\_\+register}} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle, const as3935\+\_\+0x08\+\_\+register\+\_\+t reg)
\begin{DoxyCompactList}\small\item\em sets 0x08 register on AS3935. \end{DoxyCompactList}\item 
\Hypertarget{as3935_8c_aab19f7547481e7773a28a31f7d095bb1}\label{as3935_8c_aab19f7547481e7773a28a31f7d095bb1} 
esp\+\_\+err\+\_\+t {\bfseries as3935\+\_\+setup} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle)
\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga8a330abaf4f9c770e5afe7fc20dc042e}{as3935\+\_\+init}} (i2c\+\_\+master\+\_\+bus\+\_\+handle\+\_\+t master\+\_\+handle, const \mbox{\hyperlink{group__drivers_ga98b0fd83fb81dd7cbb6c853a260ac02a}{as3935\+\_\+config\+\_\+t}} \texorpdfstring{$\ast$}{*}as3935\+\_\+config, \mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} \texorpdfstring{$\ast$}{*}as3935\+\_\+handle)
\begin{DoxyCompactList}\small\item\em initializes an AS3935 device onto the I2C master bus. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t {\bfseries as3935\+\_\+register\+\_\+isr} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle, const as3935\+\_\+isr\+\_\+t isr)
\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga9b94a526b2d38c960b0c55f0406795f2}{as3935\+\_\+reset\+\_\+to\+\_\+defaults}} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle)
\begin{DoxyCompactList}\small\item\em resets AS3935 to defaults. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_gaca0008dccae10bd5d82f18ab24e03814}{as3935\+\_\+calibrate\+\_\+rco}} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle)
\begin{DoxyCompactList}\small\item\em calibrates AS3935 RC oscillator. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga01dc8897c11557880e6510beae113642}{as3935\+\_\+clear\+\_\+lightning\+\_\+statistics}} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle)
\begin{DoxyCompactList}\small\item\em clears AS3935 lightning statistics. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t {\bfseries as3935\+\_\+enable\+\_\+power} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle)
\item 
esp\+\_\+err\+\_\+t {\bfseries as3935\+\_\+get\+\_\+analog\+\_\+frontend} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle, \mbox{\hyperlink{group__drivers_gafcdd75c9b18aa4151eed84cbae265196}{as3935\+\_\+analog\+\_\+frontends\+\_\+t}} \texorpdfstring{$\ast$}{*}const analog\+\_\+frontend)
\item 
esp\+\_\+err\+\_\+t {\bfseries as3935\+\_\+get\+\_\+watchdog\+\_\+threshold} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle, \mbox{\hyperlink{group__drivers_gae87eb824861eb634b5833d61b9b7526b}{as3935\+\_\+watchdog\+\_\+thresholds\+\_\+t}} \texorpdfstring{$\ast$}{*}const watchdog\+\_\+threshold)
\item 
esp\+\_\+err\+\_\+t {\bfseries as3935\+\_\+get\+\_\+noise\+\_\+floor\+\_\+threshold} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle, \mbox{\hyperlink{group__drivers_ga64db4a0d5e3024512fe00e5e5038453f}{as3935\+\_\+noise\+\_\+levels\+\_\+t}} \texorpdfstring{$\ast$}{*}const noise\+\_\+level)
\item 
esp\+\_\+err\+\_\+t {\bfseries as3935\+\_\+get\+\_\+spike\+\_\+rejection} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle, uint8\+\_\+t \texorpdfstring{$\ast$}{*}const spike\+\_\+rejection)
\item 
esp\+\_\+err\+\_\+t {\bfseries as3935\+\_\+get\+\_\+minimum\+\_\+lightnings} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle, \mbox{\hyperlink{group__drivers_ga2f7cf5db258dc86f6c91a06ebe1cfc47}{as3935\+\_\+minimum\+\_\+lightnings\+\_\+t}} \texorpdfstring{$\ast$}{*}const min\+\_\+lightnings)
\item 
esp\+\_\+err\+\_\+t {\bfseries as3935\+\_\+enable\+\_\+disturber\+\_\+detection} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle)
\item 
esp\+\_\+err\+\_\+t {\bfseries as3935\+\_\+get\+\_\+frequency\+\_\+division\+\_\+ratio} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle, \mbox{\hyperlink{group__drivers_ga8c14ebf450e76a255c518b9d12f1d066}{as3935\+\_\+frequency\+\_\+division\+\_\+ratios\+\_\+t}} \texorpdfstring{$\ast$}{*}const ratio)
\item 
esp\+\_\+err\+\_\+t {\bfseries as3935\+\_\+get\+\_\+display\+\_\+oscillator\+\_\+on\+\_\+irq} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle, const \mbox{\hyperlink{group__drivers_gab16ed1f5754c2f383f278257cdd03733}{as3935\+\_\+oscillator\+\_\+modes\+\_\+t}} oscillator\+\_\+mode, bool \texorpdfstring{$\ast$}{*}const enabled)
\item 
esp\+\_\+err\+\_\+t {\bfseries as3935\+\_\+get\+\_\+internal\+\_\+capacitors} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle, uint8\+\_\+t \texorpdfstring{$\ast$}{*}const value)
\item 
esp\+\_\+err\+\_\+t {\bfseries as3935\+\_\+disable\+\_\+power} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle)
\item 
esp\+\_\+err\+\_\+t {\bfseries as3935\+\_\+set\+\_\+analog\+\_\+frontend} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle, const \mbox{\hyperlink{group__drivers_gafcdd75c9b18aa4151eed84cbae265196}{as3935\+\_\+analog\+\_\+frontends\+\_\+t}} analog\+\_\+frontend)
\item 
esp\+\_\+err\+\_\+t {\bfseries as3935\+\_\+set\+\_\+watchdog\+\_\+threshold} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle, const \mbox{\hyperlink{group__drivers_gae87eb824861eb634b5833d61b9b7526b}{as3935\+\_\+watchdog\+\_\+thresholds\+\_\+t}} watchdog\+\_\+threshold)
\item 
esp\+\_\+err\+\_\+t {\bfseries as3935\+\_\+set\+\_\+noise\+\_\+floor\+\_\+threshold} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle, const \mbox{\hyperlink{group__drivers_ga64db4a0d5e3024512fe00e5e5038453f}{as3935\+\_\+noise\+\_\+levels\+\_\+t}} noise\+\_\+level)
\item 
esp\+\_\+err\+\_\+t {\bfseries as3935\+\_\+set\+\_\+spike\+\_\+rejection} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle, const uint8\+\_\+t spike\+\_\+rejection)
\item 
esp\+\_\+err\+\_\+t {\bfseries as3935\+\_\+set\+\_\+minimum\+\_\+lightnings} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle, const \mbox{\hyperlink{group__drivers_ga2f7cf5db258dc86f6c91a06ebe1cfc47}{as3935\+\_\+minimum\+\_\+lightnings\+\_\+t}} min\+\_\+lightnings)
\item 
esp\+\_\+err\+\_\+t {\bfseries as3935\+\_\+disable\+\_\+disturber\+\_\+detection} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle)
\item 
esp\+\_\+err\+\_\+t {\bfseries as3935\+\_\+set\+\_\+frequency\+\_\+division\+\_\+ratio} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle, const \mbox{\hyperlink{group__drivers_ga8c14ebf450e76a255c518b9d12f1d066}{as3935\+\_\+frequency\+\_\+division\+\_\+ratios\+\_\+t}} ratio)
\item 
esp\+\_\+err\+\_\+t {\bfseries as3935\+\_\+set\+\_\+display\+\_\+oscillator\+\_\+on\+\_\+irq} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle, const \mbox{\hyperlink{group__drivers_gab16ed1f5754c2f383f278257cdd03733}{as3935\+\_\+oscillator\+\_\+modes\+\_\+t}} oscillator\+\_\+mode, const bool enabled)
\item 
esp\+\_\+err\+\_\+t {\bfseries as3935\+\_\+set\+\_\+internal\+\_\+capacitors} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle, const uint8\+\_\+t value)
\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga8b606a0254fe81a80016d56c2d3695eb}{as3935\+\_\+get\+\_\+interrupt\+\_\+state}} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle, \mbox{\hyperlink{group__drivers_ga21f56ccf3843a6c0c746d20dfadcfde5}{as3935\+\_\+interrupt\+\_\+states\+\_\+t}} \texorpdfstring{$\ast$}{*}const state)
\begin{DoxyCompactList}\small\item\em gets interrupt state of AS3935. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t {\bfseries as3935\+\_\+get\+\_\+lightning\+\_\+distance} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle, \mbox{\hyperlink{group__drivers_ga225a265e70e9df5e37f4675415503e55}{as3935\+\_\+lightning\+\_\+distances\+\_\+t}} \texorpdfstring{$\ast$}{*}const distance)
\item 
esp\+\_\+err\+\_\+t {\bfseries as3935\+\_\+get\+\_\+lightning\+\_\+distance\+\_\+km} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle, uint8\+\_\+t \texorpdfstring{$\ast$}{*}const distance)
\item 
esp\+\_\+err\+\_\+t {\bfseries as3935\+\_\+get\+\_\+lightning\+\_\+energy} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle, uint32\+\_\+t \texorpdfstring{$\ast$}{*}const energy)
\item 
esp\+\_\+err\+\_\+t {\bfseries as3935\+\_\+get\+\_\+lightning\+\_\+event} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle, \mbox{\hyperlink{group__drivers_ga225a265e70e9df5e37f4675415503e55}{as3935\+\_\+lightning\+\_\+distances\+\_\+t}} \texorpdfstring{$\ast$}{*}const distance, uint32\+\_\+t \texorpdfstring{$\ast$}{*}const energy)
\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_gad6ad711a2aeff86a5fe5e3e8525df5c9}{as3935\+\_\+remove}} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle)
\begin{DoxyCompactList}\small\item\em Removes an AS3935 device from I2C master bus. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__drivers_ga575c55d5e2f3a066f315b6f570892b16}{as3935\+\_\+delete}} (\mbox{\hyperlink{group__drivers_gaf334b3bfc6ce484444d6c68e9830cf15}{as3935\+\_\+handle\+\_\+t}} handle)
\begin{DoxyCompactList}\small\item\em Removes an AS3935 device from master bus and frees handle. \end{DoxyCompactList}\item 
const char \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{group__drivers_ga65364e682f6809a2fadca7c7648ca061}{as3935\+\_\+get\+\_\+fw\+\_\+version}} (void)
\begin{DoxyCompactList}\small\item\em Converts AS3935 firmware version numbers (major, minor, patch, build) into a string. \end{DoxyCompactList}\item 
int32\+\_\+t \mbox{\hyperlink{group__drivers_ga44a1cc83f99a1df1d4ad417a8f50054a}{as3935\+\_\+get\+\_\+fw\+\_\+version\+\_\+number}} (void)
\begin{DoxyCompactList}\small\item\em Converts AS3935 firmware version numbers (major, minor, patch) into an integer value. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
ESP-\/\+IDF driver for AS3935 lightning detection sensor

Ported from esp-\/open-\/rtos

Copyright (c) 2024 Eric Gionet (\href{mailto:gionet.c.eric@gmail.com}{\texttt{ gionet.\+c.\+eric@gmail.\+com}})

MIT Licensed as described in the file LICENSE 

\doxysubsection{Macro Definition Documentation}
\Hypertarget{as3935_8c_a8da118fb0f96f4c1839426c01c2e8f1f}\index{as3935.c@{as3935.c}!ENSURE\_TRUE@{ENSURE\_TRUE}}
\index{ENSURE\_TRUE@{ENSURE\_TRUE}!as3935.c@{as3935.c}}
\doxysubsubsection{\texorpdfstring{ENSURE\_TRUE}{ENSURE\_TRUE}}
{\footnotesize\ttfamily \label{as3935_8c_a8da118fb0f96f4c1839426c01c2e8f1f} 
\#define ENSURE\+\_\+\+TRUE(\begin{DoxyParamCaption}\item[{}]{ACTION}{}\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordflow}{do}\ \{\ BaseType\_t\ \_\_res\ =\ (ACTION);\ assert(\_\_res\ ==\ pdTRUE);\ (void)\_\_res;\ \}\ \textcolor{keywordflow}{while}\ (0)}

\end{DoxyCode}
\Hypertarget{as3935_8c_ac2bb3db0b37c9f45103fd513ca5158fe}\index{as3935.c@{as3935.c}!ESP\_ARG\_CHECK@{ESP\_ARG\_CHECK}}
\index{ESP\_ARG\_CHECK@{ESP\_ARG\_CHECK}!as3935.c@{as3935.c}}
\doxysubsubsection{\texorpdfstring{ESP\_ARG\_CHECK}{ESP\_ARG\_CHECK}}
{\footnotesize\ttfamily \label{as3935_8c_ac2bb3db0b37c9f45103fd513ca5158fe} 
\#define ESP\+\_\+\+ARG\+\_\+\+CHECK(\begin{DoxyParamCaption}\item[{}]{VAL}{}\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordflow}{do}\ \{\ \textcolor{keywordflow}{if}\ (!(VAL))\ \textcolor{keywordflow}{return}\ ESP\_ERR\_INVALID\_ARG;\ \}\ \textcolor{keywordflow}{while}\ (0)}

\end{DoxyCode}
macro definitions 