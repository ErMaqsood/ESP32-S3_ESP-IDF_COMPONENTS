\doxysection{components/utilities/esp\+\_\+scalar\+\_\+trend/scalar\+\_\+trend.h File Reference}
\hypertarget{scalar__trend_8h}{}\label{scalar__trend_8h}\index{components/utilities/esp\_scalar\_trend/scalar\_trend.h@{components/utilities/esp\_scalar\_trend/scalar\_trend.h}}
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$esp\+\_\+check.\+h$>$}\newline
\doxysubsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structscalar__trend__t}{scalar\+\_\+trend\+\_\+t}}
\begin{DoxyCompactList}\small\item\em Scalar trend structure. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{scalar__trend_8h_a0314c0963d877723faaf9ea72b22afc1}\label{scalar__trend_8h_a0314c0963d877723faaf9ea72b22afc1} 
typedef enum \mbox{\hyperlink{scalar__trend_8h_af75d6701beee22d523b10231cd5ccde6}{scalar\+\_\+trend\+\_\+codes\+\_\+tag}} {\bfseries scalar\+\_\+trend\+\_\+codes\+\_\+t}
\begin{DoxyCompactList}\small\item\em Scalar trend codes enumerator. \end{DoxyCompactList}\item 
\Hypertarget{scalar__trend_8h_a6e3822202f5893f93b21eb1c105330a1}\label{scalar__trend_8h_a6e3822202f5893f93b21eb1c105330a1} 
typedef struct scalar\+\_\+trend\+\_\+t {\bfseries scalar\+\_\+trend\+\_\+t}
\begin{DoxyCompactList}\small\item\em Scalar trend type definition. \end{DoxyCompactList}\item 
\Hypertarget{scalar__trend_8h_acf8da9d0063860556f3774b0259b7b5b}\label{scalar__trend_8h_acf8da9d0063860556f3774b0259b7b5b} 
typedef struct \mbox{\hyperlink{structscalar__trend__t}{scalar\+\_\+trend\+\_\+t}} \texorpdfstring{$\ast$}{*} {\bfseries scalar\+\_\+trend\+\_\+handle\+\_\+t}
\begin{DoxyCompactList}\small\item\em Scalar trend handle definition. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{scalar__trend_8h_af75d6701beee22d523b10231cd5ccde6}{scalar\+\_\+trend\+\_\+codes\+\_\+tag}} \{ \mbox{\hyperlink{scalar__trend_8h_af75d6701beee22d523b10231cd5ccde6a7052f4bb2853c43aedeb405a507bcc93}{SCALAR\+\_\+\+TREND\+\_\+\+CODE\+\_\+\+UNKNOWN}} = 1
, \mbox{\hyperlink{scalar__trend_8h_af75d6701beee22d523b10231cd5ccde6a8c869fa1e69a945c3ab0383714e06f5e}{SCALAR\+\_\+\+TREND\+\_\+\+CODE\+\_\+\+RISING}} = 2
, \mbox{\hyperlink{scalar__trend_8h_af75d6701beee22d523b10231cd5ccde6ae11a5ca94ee028514840445697e3c4aa}{SCALAR\+\_\+\+TREND\+\_\+\+CODE\+\_\+\+STEADY}} = 3
, \mbox{\hyperlink{scalar__trend_8h_af75d6701beee22d523b10231cd5ccde6a21be256704957dd20edca8e0c0334bca}{SCALAR\+\_\+\+TREND\+\_\+\+CODE\+\_\+\+FALLING}} = 4
 \}
\begin{DoxyCompactList}\small\item\em Scalar trend codes enumerator. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
const char \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{scalar__trend_8h_a0b324bd1c5a54edd2fc7af10c1afcd4e}{scalar\+\_\+trend\+\_\+code\+\_\+to\+\_\+string}} (const \mbox{\hyperlink{scalar__trend_8h_a0314c0963d877723faaf9ea72b22afc1}{scalar\+\_\+trend\+\_\+codes\+\_\+t}} code)
\begin{DoxyCompactList}\small\item\em Converts {\ttfamily \doxylink{scalar__trend_8h_a0314c0963d877723faaf9ea72b22afc1}{scalar\+\_\+trend\+\_\+codes\+\_\+t}} enumerator trend code to string. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{scalar__trend_8h_aa371e0515d1b70d866ce306f1eead839}{scalar\+\_\+trend\+\_\+init}} (const uint16\+\_\+t samples\+\_\+size, \mbox{\hyperlink{scalar__trend_8h_acf8da9d0063860556f3774b0259b7b5b}{scalar\+\_\+trend\+\_\+handle\+\_\+t}} \texorpdfstring{$\ast$}{*}scalar\+\_\+trend\+\_\+handle)
\begin{DoxyCompactList}\small\item\em Initializes a scalar trend handle by size of the 1-\/hr samples to analyze. The size of the samples is calculated from the sampling rate. ~\newline
 As an example, if the sampling rate is once every minute, the size of the samples buffer should be 60 e.\+g., one (1) hour. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{scalar__trend_8h_a7b295a1a8e88e57d5a6ed813e536d97d}{scalar\+\_\+trend\+\_\+analysis}} (\mbox{\hyperlink{scalar__trend_8h_acf8da9d0063860556f3774b0259b7b5b}{scalar\+\_\+trend\+\_\+handle\+\_\+t}} scalar\+\_\+trend\+\_\+handle, const float sample, \mbox{\hyperlink{scalar__trend_8h_a0314c0963d877723faaf9ea72b22afc1}{scalar\+\_\+trend\+\_\+codes\+\_\+t}} \texorpdfstring{$\ast$}{*}const code)
\begin{DoxyCompactList}\small\item\em Analyzes historical samples and scalar Trend appears after one (1) hour of operation. The trend codes are a forecast of the 3-\/hr change based on the previous 1-\/hour history. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{scalar__trend_8h_a341bf47439655e97ec906a8eaef17b60}{scalar\+\_\+trend\+\_\+reset}} (\mbox{\hyperlink{scalar__trend_8h_acf8da9d0063860556f3774b0259b7b5b}{scalar\+\_\+trend\+\_\+handle\+\_\+t}} scalar\+\_\+trend\+\_\+handle)
\begin{DoxyCompactList}\small\item\em Purges scalar trend samples array and resets samples counter. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{scalar__trend_8h_ab5db8dcb60daf60e2dd4492a368cff2d}{scalar\+\_\+trend\+\_\+delete}} (\mbox{\hyperlink{scalar__trend_8h_acf8da9d0063860556f3774b0259b7b5b}{scalar\+\_\+trend\+\_\+handle\+\_\+t}} scalar\+\_\+trend\+\_\+handle)
\begin{DoxyCompactList}\small\item\em Frees scalar trend handle. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Scalar trend libary

A scalar Trend appears after one (1) hour of operation. The trend codes are a forecast of the 3-\/hr change based on the previous 1-\/hour history.

Original source\+: \href{https://gist.github.com/Paraphraser/c5609f85cc7ee6ecd03ce179fb7f7edb}{\texttt{ https\+://gist.\+github.\+com/\+Paraphraser/c5609f85cc7ee6ecd03ce179fb7f7edb}}

Original source code was modified to support the esp-\/idf framework and includes the left-\/tailed inverse of the studen\textquotesingle{}s t-\/distribution calculation on handle initialization.

Copyright (c) 2024 Eric Gionet (\href{mailto:gionet.c.eric@gmail.com}{\texttt{ gionet.\+c.\+eric@gmail.\+com}})

MIT Licensed as described in the file LICENSE 

\doxysubsection{Enumeration Type Documentation}
\Hypertarget{scalar__trend_8h_af75d6701beee22d523b10231cd5ccde6}\index{scalar\_trend.h@{scalar\_trend.h}!scalar\_trend\_codes\_tag@{scalar\_trend\_codes\_tag}}
\index{scalar\_trend\_codes\_tag@{scalar\_trend\_codes\_tag}!scalar\_trend.h@{scalar\_trend.h}}
\doxysubsubsection{\texorpdfstring{scalar\_trend\_codes\_tag}{scalar\_trend\_codes\_tag}}
{\footnotesize\ttfamily \label{scalar__trend_8h_af75d6701beee22d523b10231cd5ccde6} 
enum \mbox{\hyperlink{scalar__trend_8h_af75d6701beee22d523b10231cd5ccde6}{scalar\+\_\+trend\+\_\+codes\+\_\+tag}}}



Scalar trend codes enumerator. 

\begin{DoxyEnumFields}[2]{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{SCALAR\_TREND\_CODE\_UNKNOWN@{SCALAR\_TREND\_CODE\_UNKNOWN}!scalar\_trend.h@{scalar\_trend.h}}\index{scalar\_trend.h@{scalar\_trend.h}!SCALAR\_TREND\_CODE\_UNKNOWN@{SCALAR\_TREND\_CODE\_UNKNOWN}}}\Hypertarget{scalar__trend_8h_af75d6701beee22d523b10231cd5ccde6a7052f4bb2853c43aedeb405a507bcc93}\label{scalar__trend_8h_af75d6701beee22d523b10231cd5ccde6a7052f4bb2853c43aedeb405a507bcc93} 
SCALAR\+\_\+\+TREND\+\_\+\+CODE\+\_\+\+UNKNOWN&1-\/hr Change unknown \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{SCALAR\_TREND\_CODE\_RISING@{SCALAR\_TREND\_CODE\_RISING}!scalar\_trend.h@{scalar\_trend.h}}\index{scalar\_trend.h@{scalar\_trend.h}!SCALAR\_TREND\_CODE\_RISING@{SCALAR\_TREND\_CODE\_RISING}}}\Hypertarget{scalar__trend_8h_af75d6701beee22d523b10231cd5ccde6a8c869fa1e69a945c3ab0383714e06f5e}\label{scalar__trend_8h_af75d6701beee22d523b10231cd5ccde6a8c869fa1e69a945c3ab0383714e06f5e} 
SCALAR\+\_\+\+TREND\+\_\+\+CODE\+\_\+\+RISING&rising \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{SCALAR\_TREND\_CODE\_STEADY@{SCALAR\_TREND\_CODE\_STEADY}!scalar\_trend.h@{scalar\_trend.h}}\index{scalar\_trend.h@{scalar\_trend.h}!SCALAR\_TREND\_CODE\_STEADY@{SCALAR\_TREND\_CODE\_STEADY}}}\Hypertarget{scalar__trend_8h_af75d6701beee22d523b10231cd5ccde6ae11a5ca94ee028514840445697e3c4aa}\label{scalar__trend_8h_af75d6701beee22d523b10231cd5ccde6ae11a5ca94ee028514840445697e3c4aa} 
SCALAR\+\_\+\+TREND\+\_\+\+CODE\+\_\+\+STEADY&steady \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{SCALAR\_TREND\_CODE\_FALLING@{SCALAR\_TREND\_CODE\_FALLING}!scalar\_trend.h@{scalar\_trend.h}}\index{scalar\_trend.h@{scalar\_trend.h}!SCALAR\_TREND\_CODE\_FALLING@{SCALAR\_TREND\_CODE\_FALLING}}}\Hypertarget{scalar__trend_8h_af75d6701beee22d523b10231cd5ccde6a21be256704957dd20edca8e0c0334bca}\label{scalar__trend_8h_af75d6701beee22d523b10231cd5ccde6a21be256704957dd20edca8e0c0334bca} 
SCALAR\+\_\+\+TREND\+\_\+\+CODE\+\_\+\+FALLING&falling \\
\hline

\end{DoxyEnumFields}


\doxysubsection{Function Documentation}
\Hypertarget{scalar__trend_8h_a7b295a1a8e88e57d5a6ed813e536d97d}\index{scalar\_trend.h@{scalar\_trend.h}!scalar\_trend\_analysis@{scalar\_trend\_analysis}}
\index{scalar\_trend\_analysis@{scalar\_trend\_analysis}!scalar\_trend.h@{scalar\_trend.h}}
\doxysubsubsection{\texorpdfstring{scalar\_trend\_analysis()}{scalar\_trend\_analysis()}}
{\footnotesize\ttfamily \label{scalar__trend_8h_a7b295a1a8e88e57d5a6ed813e536d97d} 
esp\+\_\+err\+\_\+t scalar\+\_\+trend\+\_\+analysis (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{scalar__trend_8h_acf8da9d0063860556f3774b0259b7b5b}{scalar\+\_\+trend\+\_\+handle\+\_\+t}}}]{scalar\+\_\+trend\+\_\+handle}{, }\item[{const float}]{sample}{, }\item[{\mbox{\hyperlink{scalar__trend_8h_a0314c0963d877723faaf9ea72b22afc1}{scalar\+\_\+trend\+\_\+codes\+\_\+t}} \texorpdfstring{$\ast$}{*}const}]{code}{}\end{DoxyParamCaption})}



Analyzes historical samples and scalar Trend appears after one (1) hour of operation. The trend codes are a forecast of the 3-\/hr change based on the previous 1-\/hour history. 


\begin{DoxyParams}{Parameters}
{\em scalar\+\_\+trend\+\_\+handle} & Scalar trend handle. \\
\hline
{\em sample} & Scalar sample to push onto the samples stack. \\
\hline
{\em code} & Scalar trend code of one (1) hour analysis. Scalar trend code {\ttfamily SCALAR\+\_\+\+TREND\+\_\+\+UNKNOWN} is reported when there is an insufficient number of samples to analyze. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
esp\+\_\+err\+\_\+t ESP\+\_\+\+OK on success. 
\end{DoxyReturn}
\Hypertarget{scalar__trend_8h_a0b324bd1c5a54edd2fc7af10c1afcd4e}\index{scalar\_trend.h@{scalar\_trend.h}!scalar\_trend\_code\_to\_string@{scalar\_trend\_code\_to\_string}}
\index{scalar\_trend\_code\_to\_string@{scalar\_trend\_code\_to\_string}!scalar\_trend.h@{scalar\_trend.h}}
\doxysubsubsection{\texorpdfstring{scalar\_trend\_code\_to\_string()}{scalar\_trend\_code\_to\_string()}}
{\footnotesize\ttfamily \label{scalar__trend_8h_a0b324bd1c5a54edd2fc7af10c1afcd4e} 
const char \texorpdfstring{$\ast$}{*} scalar\+\_\+trend\+\_\+code\+\_\+to\+\_\+string (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{scalar__trend_8h_a0314c0963d877723faaf9ea72b22afc1}{scalar\+\_\+trend\+\_\+codes\+\_\+t}}}]{code}{}\end{DoxyParamCaption})}



Converts {\ttfamily \doxylink{scalar__trend_8h_a0314c0963d877723faaf9ea72b22afc1}{scalar\+\_\+trend\+\_\+codes\+\_\+t}} enumerator trend code to string. 


\begin{DoxyParams}{Parameters}
{\em code} & Scalar trend code to convert to a string. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
const char\texorpdfstring{$\ast$}{*} String representation of the scalar trend code. 
\end{DoxyReturn}
\Hypertarget{scalar__trend_8h_ab5db8dcb60daf60e2dd4492a368cff2d}\index{scalar\_trend.h@{scalar\_trend.h}!scalar\_trend\_delete@{scalar\_trend\_delete}}
\index{scalar\_trend\_delete@{scalar\_trend\_delete}!scalar\_trend.h@{scalar\_trend.h}}
\doxysubsubsection{\texorpdfstring{scalar\_trend\_delete()}{scalar\_trend\_delete()}}
{\footnotesize\ttfamily \label{scalar__trend_8h_ab5db8dcb60daf60e2dd4492a368cff2d} 
esp\+\_\+err\+\_\+t scalar\+\_\+trend\+\_\+delete (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{scalar__trend_8h_acf8da9d0063860556f3774b0259b7b5b}{scalar\+\_\+trend\+\_\+handle\+\_\+t}}}]{scalar\+\_\+trend\+\_\+handle}{}\end{DoxyParamCaption})}



Frees scalar trend handle. 


\begin{DoxyParams}{Parameters}
{\em scalar\+\_\+trend\+\_\+handle} & Scalar trend handle. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
esp\+\_\+err\+\_\+t ESP\+\_\+\+OK on success. 
\end{DoxyReturn}
\Hypertarget{scalar__trend_8h_aa371e0515d1b70d866ce306f1eead839}\index{scalar\_trend.h@{scalar\_trend.h}!scalar\_trend\_init@{scalar\_trend\_init}}
\index{scalar\_trend\_init@{scalar\_trend\_init}!scalar\_trend.h@{scalar\_trend.h}}
\doxysubsubsection{\texorpdfstring{scalar\_trend\_init()}{scalar\_trend\_init()}}
{\footnotesize\ttfamily \label{scalar__trend_8h_aa371e0515d1b70d866ce306f1eead839} 
esp\+\_\+err\+\_\+t scalar\+\_\+trend\+\_\+init (\begin{DoxyParamCaption}\item[{const uint16\+\_\+t}]{samples\+\_\+size}{, }\item[{\mbox{\hyperlink{scalar__trend_8h_acf8da9d0063860556f3774b0259b7b5b}{scalar\+\_\+trend\+\_\+handle\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{scalar\+\_\+trend\+\_\+handle}{}\end{DoxyParamCaption})}



Initializes a scalar trend handle by size of the 1-\/hr samples to analyze. The size of the samples is calculated from the sampling rate. ~\newline
 As an example, if the sampling rate is once every minute, the size of the samples buffer should be 60 e.\+g., one (1) hour. 


\begin{DoxyParams}{Parameters}
{\em samples\+\_\+size} & Scalar trend samples buffer size. \\
\hline
{\em scalar\+\_\+trend\+\_\+handle} & Scalar trend handle. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
esp\+\_\+err\+\_\+t ESP\+\_\+\+OK on success. 
\end{DoxyReturn}
\Hypertarget{scalar__trend_8h_a341bf47439655e97ec906a8eaef17b60}\index{scalar\_trend.h@{scalar\_trend.h}!scalar\_trend\_reset@{scalar\_trend\_reset}}
\index{scalar\_trend\_reset@{scalar\_trend\_reset}!scalar\_trend.h@{scalar\_trend.h}}
\doxysubsubsection{\texorpdfstring{scalar\_trend\_reset()}{scalar\_trend\_reset()}}
{\footnotesize\ttfamily \label{scalar__trend_8h_a341bf47439655e97ec906a8eaef17b60} 
esp\+\_\+err\+\_\+t scalar\+\_\+trend\+\_\+reset (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{scalar__trend_8h_acf8da9d0063860556f3774b0259b7b5b}{scalar\+\_\+trend\+\_\+handle\+\_\+t}}}]{scalar\+\_\+trend\+\_\+handle}{}\end{DoxyParamCaption})}



Purges scalar trend samples array and resets samples counter. 


\begin{DoxyParams}{Parameters}
{\em scalar\+\_\+trend\+\_\+handle} & Scalar trend handle \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
esp\+\_\+err\+\_\+t ESP\+\_\+\+OK on success. 
\end{DoxyReturn}
